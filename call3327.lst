ca65 V2.18 - Ubuntu 2.19-1
Main file   : call3327.s
Current file: call3327.s

000000r 1               ;# vim: set syntax=asm_ca65 ts=8 sts=8 sw=8 et :
000000r 1               
000000r 1               .define EQU =
000000r 1               .define DFB .byte
000000r 1               .define DW .word
000000r 1               .define DS .res
000000r 1               
000000r 1               ;0067:
000000r 1               TXTBF = $67
000000r 1               ;0074
000000r 1               HIMEMH = $74
000000r 1               ;03EA:
000000r 1               DOSFET = $3EA
000000r 1               ;03F6:
000000r 1               VEC = $3F6
000000r 1               ;D64B:
000000r 1               BNEW = $D64B
000000r 1               ;D43C:
000000r 1               WARMBS = $D43C
000000r 1               
000000r 1               ;----- NEXT OBJECT FILE NAME IS HAN.OBJO
000000r 1               ;0880:
000000r 1                       .ORG $0880
000880  1               ;0880:AD EA 03 11
000880  1  AD EA 03             LDA DOSFET      ;CHECK IF DOS!
000883  1               ;0883:C9 4C 12
000883  1  C9 4C                CMP #$4C        ;IS IT 'JMP'?
000885  1               ;0885:F0 05 13
000885  1  F0 05                BEQ NCHNG
000887  1               ;0887:A9 60 14
000887  1  A9 60                LDA #$60        ;IF NOT,REPLACE WITH 'RETURN'
000889  1               ;0889:8D EA 03 15
000889  1  8D EA 03             STA DOSFET
00088C  1               ;088C:A9 80 16
00088C  1               NCHNG:
00088C  1  A9 80                LDA #$80
00088E  1               ;088E:85 E8 17
00088E  1  85 E8                STA $E8
000890  1               ;0890:20 FF OC 18
000890  1  20 FF 0C             JSR ENTRY       ;HANG INITIALIZE
000893  1               ;0893:A9 FF 19
000893  1  A9 FF                LDA #<ENTRY
000895  1               ;0895:8D F6 03 20
000895  1  8D F6 03             STA VEC
000898  1               ;0898:A9 OC 21
000898  1  A9 0C                LDA #>ENTRY
00089A  1               ;089A:8D F7 03 22
00089A  1  8D F7 03             STA VEC+1
00089D  1               ;089D:A2 00 23
00089D  1  A2 00                LDX #0
00089F  1               ;089F:8E C3 08 24
00089F  1  8E C3 08             STX SNDFLG
0008A2  1               ;08A2:AO 40 25
0008A2  1  A0 40                LDY #$40        ;TXTBF START OF 48K VER.=$4000
0008A4  1               ;08A4:A5 74 26
0008A4  1  A5 74                LDA HIMEMH
0008A6  1               ;08A6:C9 41 27
0008A6  1  C9 41                CMP #$41        ;CHECK IF 16K VERS.?
0008A8  1               ;08A8:BO 08 28
0008A8  1  B0 08                BCS VER48
0008AA  1               ;08AA:A9 20 29
0008AA  1  A9 20                LDA #$20        ;THEN,REPLACE HIMEM=$20
0008AC  1               ;08AC:85 74 30
0008AC  1  85 74                STA HIMEMH
0008AE  1               ;08AE:A2 OB 31
0008AE  1  A2 0B                LDX #$0B        ;TXTBF START OF 16K VER.=END OF HANG
0008B0  1               ;OBBO:AO 16 32
0008B0  1  A0 16                LDY #$16
0008B2  1               ;08B2:86 67 33
0008B2  1               VER48:
0008B2  1  86 67                STX TXTBF       ;BASIC TEXT BUFF START
0008B4  1               ;08B4:84 68 34
0008B4  1  84 68                STY TXTBF+1
0008B6  1               ;08B6:AO 00 35
0008B6  1  A0 00                LDY #0
0008B8  1               ;08B8:98 36
0008B8  1  98                   TYA
0008B9  1               ;08B9:91 67 37
0008B9  1  91 67                STA (TXTBF),Y   ;CLEAR 1ST ENTRY
0008BB  1               ;08BB:E6 67 38
0008BB  1  E6 67                INC TXTBF       ;POINT TO NEXT POS
0008BD  1               ;08BD:20 4B D6 39
0008BD  1  20 4B D6             JSR BNEW        ;NEW!
0008C0  1               ;08C0:4C 3C D4 40
0008C0  1  4C 3C D4             JMP WARMBS      ;JMP TO BASIC
0008C3  1               
0008C3  1               ;08C3: 42
0008C3  1               SNDFLG:
0008C3  1  xx                   .res 1
0008C4  1               ;08C4: 43
0008C4  1  xx xx xx xx          .res 59           ;OF NO USE!
0008C8  1  xx xx xx xx  
0008CC  1  xx xx xx xx  
0008FF  1               
0008FF  1               ;************************
0008FF  1               ; CHARACTER PATTERN AREA
0008FF  1               ; $08FF - $OCFE
0008FF  1               ;************************
0008FF  1               PATTERN:                ; .res 1023
0008FF  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $00
000903  1  00 00 00 00  
000907  1  02 02 02 02          .byte $02, $02, $02, $02, $00, $00, $00, $00
00090B  1  00 00 00 00  
00090F  1  0A 0A 0A 0A          .byte $0a, $0a, $0a, $0a, $00, $00, $00, $00
000913  1  00 00 00 00  
000917  1  02 02 02 02          .byte $02, $02, $02, $02, $00, $00, $00, $00
00091B  1  00 00 00 00  
00091F  1  0A 0A 0A 0A          .byte $0a, $0a, $0a, $0a, $00, $00, $00, $00
000923  1  00 00 00 00  
000927  1  04 04 04 04          .byte $04, $04, $04, $04, $00, $00, $00, $00
00092B  1  00 00 00 00  
00092F  1  0A 0A 0A 0A          .byte $0a, $0a, $0a, $0a, $00, $00, $00, $00
000933  1  00 00 00 00  
000937  1  04 04 04 04          .byte $04, $04, $04, $04, $00, $00, $00, $00
00093B  1  00 00 00 00  
00093F  1  0A 0A 0A 0A          .byte $0a, $0a, $0a, $0a, $00, $00, $00, $00
000943  1  00 00 00 00  
000947  1  00 00 00 00          .byte $00, $00, $00, $00, $08, $08, $00, $bf
00094B  1  08 08 00 BF  
00094F  1  00 00 00 00          .byte $00, $00, $00, $00, $14, $14, $00, $bf
000953  1  14 14 00 BF  
000957  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $08, $bf
00095B  1  00 00 08 BF  
00095F  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $14, $bf
000963  1  00 00 14 BF  
000967  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $bf
00096B  1  00 00 00 BF  
00096F  1  04 04 04 04          .byte $04, $04, $04, $04, $00, $00, $00, $00
000973  1  00 00 00 00  
000977  1  27 00 24 24          .byte $27, $00, $24, $24, $0a, $54, $00, $00
00097B  1  0A 54 00 00  
00097F  1  B9 00 91 91          .byte $b9, $00, $91, $91, $af, $a9, $00, $00
000983  1  AF A9 00 00  
000987  1  91 00 91 B9          .byte $91, $00, $91, $b9, $97, $a9, $00, $00
00098B  1  97 A9 00 00  
00098F  1  BF 00 A7 A4          .byte $bf, $00, $a7, $a4, $a7, $a1, $00, $00
000993  1  A7 A1 00 00  
000997  1  77 00 57 54          .byte $77, $00, $57, $54, $77, $51, $00, $00
00099B  1  77 51 00 00  
00099F  1  57 00 77 54          .byte $57, $00, $77, $54, $77, $51, $00, $00
0009A3  1  77 51 00 00  
0009A7  1  27 00 27 24          .byte $27, $00, $27, $24, $4f, $51, $00, $00
0009AB  1  4F 51 00 00  
0009AF  1  77 00 77 04          .byte $77, $00, $77, $04, $77, $11, $00, $00
0009B3  1  77 11 00 00  
0009B7  1  7F 00 2F 2C          .byte $7f, $00, $2f, $2c, $7f, $29, $00, $00
0009BB  1  7F 29 00 00  
0009BF  1  27 00 27 74          .byte $27, $00, $27, $74, $27, $51, $00, $00
0009C3  1  27 51 00 00  
0009C7  1  25 00 27 25          .byte $25, $00, $27, $25, $57, $55, $00, $00
0009CB  1  57 55 00 00  
0009CF  1  01 00 01 00          .byte $01, $00, $01, $00, $29, $28, $19, $18
0009D3  1  29 28 19 18  
0009D7  1  0C 05 17 10          .byte $0c, $05, $17, $10, $22, $1b, $00, $00
0009DB  1  22 1B 00 00  
0009DF  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $00
0009E3  1  00 00 00 00  
0009E7  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $00
0009EB  1  00 00 00 00  
0009EF  1  00 00 3E 10          .byte $00, $00, $3e, $10, $00, $10, $00, $00
0009F3  1  00 10 00 00  
0009F7  1  21 7F 69 4D          .byte $21, $7f, $69, $4d, $2d, $4d, $00, $7f
0009FB  1  2D 4D 00 7F  
0009FF  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $00
000A03  1  00 00 00 00  
000A07  1  08 08 08 08          .byte $08, $08, $08, $08, $00, $08, $00, $08
000A0B  1  00 08 00 08  
000A0F  1  14 14 00 14          .byte $14, $14, $00, $14, $00, $00, $00, $00
000A13  1  00 00 00 00  
000A17  1  14 14 14 3E          .byte $14, $14, $14, $3e, $14, $3e, $00, $14
000A1B  1  14 3E 00 14  
000A1F  1  3C 08 1C 0A          .byte $3c, $08, $1c, $0a, $1e, $28, $00, $08
000A23  1  1E 28 00 08  
000A27  1  26 06 08 10          .byte $26, $06, $08, $10, $32, $04, $00, $30
000A2B  1  32 04 00 30  
000A2F  1  0A 04 04 0A          .byte $0a, $04, $04, $0a, $12, $2a, $00, $2c
000A33  1  12 2A 00 2C  
000A37  1  08 08 00 08          .byte $08, $08, $00, $08, $00, $00, $00, $00
000A3B  1  00 00 00 00  
000A3F  1  04 08 02 02          .byte $04, $08, $02, $02, $04, $02, $00, $08
000A43  1  04 02 00 08  
000A47  1  10 08 20 20          .byte $10, $08, $20, $20, $10, $20, $00, $08
000A4B  1  10 20 00 08  
000A4F  1  2A 08 08 1C          .byte $2a, $08, $08, $1c, $2a, $1c, $00, $08
000A53  1  2A 1C 00 08  
000A57  1  08 00 3E 08          .byte $08, $00, $3e, $08, $08, $08, $00, $00
000A5B  1  08 08 00 00  
000A5F  1  00 00 00 00          .byte $00, $00, $00, $00, $08, $08, $00, $04
000A63  1  08 08 00 04  
000A67  1  00 00 3E 00          .byte $00, $00, $3e, $00, $00, $00, $00, $00
000A6B  1  00 00 00 00  
000A6F  1  00 00 00 00          .byte $00, $00, $00, $00, $00, $00, $00, $08
000A73  1  00 00 00 08  
000A77  1  20 00 08 10          .byte $20, $00, $08, $10, $02, $04, $00, $00
000A7B  1  02 04 00 00  
000A7F  1  22 1C 2A 32          .byte $22, $1c, $2a, $32, $22, $26, $00, $1c
000A83  1  22 26 00 1C  
000A87  1  0C 08 08 08          .byte $0c, $08, $08, $08, $08, $08, $00, $1c
000A8B  1  08 08 00 1C  
000A8F  1  22 1C 18 20          .byte $22, $1c, $18, $20, $02, $04, $00, $3e
000A93  1  02 04 00 3E  
000A97  1  20 3E 18 10          .byte $20, $3e, $18, $10, $22, $20, $00, $1c
000A9B  1  22 20 00 1C  
000A9F  1  18 10 12 14          .byte $18, $10, $12, $14, $10, $3e, $00, $10
000AA3  1  10 3E 00 10  
000AA7  1  02 3E 20 1E          .byte $02, $3e, $20, $1e, $22, $20, $00, $1c
000AAB  1  22 20 00 1C  
000AAF  1  04 38 1E 02          .byte $04, $38, $1e, $02, $22, $22, $00, $1c
000AB3  1  22 22 00 1C  
000AB7  1  20 3E 08 10          .byte $20, $3e, $08, $10, $04, $04, $00, $04
000ABB  1  04 04 00 04  
000ABF  1  22 1C 1C 22          .byte $22, $1c, $1c, $22, $22, $22, $00, $1c
000AC3  1  22 22 00 1C  
000AC7  1  22 1C 3C 22          .byte $22, $1c, $3c, $22, $10, $20, $00, $0e
000ACB  1  10 20 00 0E  
000ACF  1  00 00 00 08          .byte $00, $00, $00, $08, $00, $08, $00, $00
000AD3  1  00 08 00 00  
000AD7  1  00 00 00 08          .byte $00, $00, $00, $08, $08, $08, $00, $04
000ADB  1  08 08 00 04  
000ADF  1  08 10 02 04          .byte $08, $10, $02, $04, $08, $04, $00, $10
000AE3  1  08 04 00 10  
000AE7  1  00 00 00 3E          .byte $00, $00, $00, $3e, $00, $3e, $00, $00
000AEB  1  00 3E 00 00  
000AEF  1  08 04 20 10          .byte $08, $04, $20, $10, $08, $10, $00, $04
000AF3  1  08 10 00 04  
000AF7  1  22 1C 08 10          .byte $22, $1c, $08, $10, $00, $08, $00, $08
000AFB  1  00 08 00 08  
000AFF  1  22 1C 3A 2A          .byte $22, $1c, $3a, $2a, $02, $1a, $00, $3c
000B03  1  02 1A 00 3C  
000B07  1  14 08 22 22          .byte $14, $08, $22, $22, $22, $3e, $00, $22
000B0B  1  22 3E 00 22  
000B0F  1  22 1E 1E 22          .byte $22, $1e, $1e, $22, $22, $22, $00, $1e
000B13  1  22 22 00 1E  
000B17  1  22 1C 02 02          .byte $22, $1c, $02, $02, $22, $02, $00, $1c
000B1B  1  22 02 00 1C  
000B1F  1  22 1E 22 22          .byte $22, $1e, $22, $22, $22, $22, $00, $1e
000B23  1  22 22 00 1E  
000B27  1  02 3E 1E 02          .byte $02, $3e, $1e, $02, $02, $02, $00, $3e
000B2B  1  02 02 00 3E  
000B2F  1  02 3E 1E 02          .byte $02, $3e, $1e, $02, $02, $02, $00, $02
000B33  1  02 02 00 02  
000B37  1  02 3C 02 02          .byte $02, $3c, $02, $02, $22, $32, $00, $3c
000B3B  1  22 32 00 3C  
000B3F  1  22 22 3E 22          .byte $22, $22, $3e, $22, $22, $22, $00, $22
000B43  1  22 22 00 22  
000B47  1  08 1C 08 08          .byte $08, $1c, $08, $08, $08, $08, $00, $1c
000B4B  1  08 08 00 1C  
000B4F  1  20 20 20 20          .byte $20, $20, $20, $20, $22, $20, $00, $1c
000B53  1  22 20 00 1C  
000B57  1  12 22 06 0A          .byte $12, $22, $06, $0a, $12, $0a, $00, $22
000B5B  1  12 0A 00 22  
000B5F  1  02 02 02 02          .byte $02, $02, $02, $02, $02, $02, $00, $3e
000B63  1  02 02 00 3E  
000B67  1  36 22 2A 2A          .byte $36, $22, $2a, $2a, $22, $22, $00, $22
000B6B  1  22 22 00 22  
000B6F  1  22 22 2A 26          .byte $22, $22, $2a, $26, $22, $32, $00, $22
000B73  1  22 32 00 22  
000B77  1  22 1C 22 22          .byte $22, $1c, $22, $22, $22, $22, $00, $1c
000B7B  1  22 22 00 1C  
000B7F  1  22 1E 1E 22          .byte $22, $1e, $1e, $22, $02, $02, $00, $02
000B83  1  02 02 00 02  
000B87  1  22 1C 22 22          .byte $22, $1c, $22, $22, $12, $2a, $00, $2c
000B8B  1  12 2A 00 2C  
000B8F  1  22 1E 1E 22          .byte $22, $1e, $1e, $22, $12, $0a, $00, $22
000B93  1  12 0A 00 22  
000B97  1  22 1C 1C 02          .byte $22, $1c, $1c, $02, $22, $20, $00, $1c
000B9B  1  22 20 00 1C  
000B9F  1  08 3E 08 08          .byte $08, $3e, $08, $08, $08, $08, $00, $08
000BA3  1  08 08 00 08  
000BA7  1  22 22 22 22          .byte $22, $22, $22, $22, $22, $22, $00, $1c
000BAB  1  22 22 00 1C  
000BAF  1  22 22 22 22          .byte $22, $22, $22, $22, $14, $22, $00, $08
000BB3  1  14 22 00 08  
000BB7  1  22 22 22 22          .byte $22, $22, $22, $22, $36, $2a, $00, $22
000BBB  1  36 2A 00 22  
000BBF  1  22 22 08 14          .byte $22, $22, $08, $14, $22, $14, $00, $22
000BC3  1  22 14 00 22  
000BC7  1  22 22 08 14          .byte $22, $22, $08, $14, $08, $08, $00, $08
000BCB  1  08 08 00 08  
000BCF  1  20 3E 08 10          .byte $20, $3e, $08, $10, $02, $04, $00, $3e
000BD3  1  02 04 00 3E  
000BD7  1  06 3E 06 06          .byte $06, $3e, $06, $06, $06, $06, $00, $3e
000BDB  1  06 06 00 3E  
000BDF  1  A1 00 7F 2A          .byte $a1, $00, $7f, $2a, $2a, $2a, $00, $14
000BE3  1  2A 2A 00 14  
000BE7  1  30 3E 30 30          .byte $30, $3e, $30, $30, $30, $30, $00, $3e
000BEB  1  30 30 00 3E  
000BEF  1  20 3E 20 20          .byte $20, $3e, $20, $20, $00, $20, $00, $00
000BF3  1  00 20 00 00  
000BF7  1  A8 BE 94 A8          .byte $a8, $be, $94, $a8, $00, $00, $00, $00
000BFB  1  00 00 00 00  
000BFF  1  02 02 02 02          .byte $02, $02, $02, $02, $00, $3e, $00, $00
000C03  1  00 3E 00 00  
000C07  1  02 3E 02 02          .byte $02, $3e, $02, $02, $00, $3e, $00, $00
000C0B  1  00 3E 00 00  
000C0F  1  0A 3E 0A 0A          .byte $0a, $3e, $0a, $0a, $00, $3e, $00, $00
000C13  1  00 3E 00 00  
000C17  1  20 3E 02 3E          .byte $20, $3e, $02, $3e, $00, $3e, $00, $00
000C1B  1  00 3E 00 00  
000C1F  1  22 3E 22 22          .byte $22, $3e, $22, $22, $00, $3e, $00, $00
000C23  1  00 3E 00 00  
000C27  1  22 22 22 3E          .byte $22, $22, $22, $3e, $00, $3e, $00, $00
000C2B  1  00 3E 00 00  
000C2F  1  2A 2A 2A 3E          .byte $2a, $2a, $2a, $3e, $00, $3e, $00, $00
000C33  1  00 3E 00 00  
000C37  1  08 08 14 08          .byte $08, $08, $14, $08, $00, $22, $00, $00
000C3B  1  00 22 00 00  
000C3F  1  14 14 49 2A          .byte $14, $14, $49, $2a, $00, $00, $00, $00
000C43  1  00 00 00 00  
000C47  1  22 1C 22 22          .byte $22, $1c, $22, $22, $00, $1c, $00, $00
000C4B  1  00 1C 00 00  
000C4F  1  08 3E 14 08          .byte $08, $3e, $14, $08, $00, $22, $00, $00
000C53  1  00 22 00 00  
000C57  1  94 BF 95 8A          .byte $94, $bf, $95, $8a, $00, $a2, $00, $00
000C5B  1  00 A2 00 00  
000C5F  1  3E 08 14 08          .byte $3e, $08, $14, $08, $00, $22, $00, $00
000C63  1  00 22 00 00  
000C67  1  A0 BE A0 BE          .byte $a0, $be, $a0, $be, $00, $90, $00, $00
000C6B  1  00 90 00 00  
000C6F  1  00 3E 02 3E          .byte $00, $3e, $02, $3e, $00, $3e, $00, $00
000C73  1  00 3E 00 00  
000C77  1  14 3E 14 14          .byte $14, $3e, $14, $14, $00, $3e, $00, $00
000C7B  1  00 3E 00 00  
000C7F  1  3E 08 22 1C          .byte $3e, $08, $22, $1c, $00, $1c, $00, $00
000C83  1  00 1C 00 00  
000C87  1  02 02 1E 02          .byte $02, $02, $1e, $02, $02, $02, $02, $02
000C8B  1  02 02 02 02  
000C8F  1  0A 0A 0E 0A          .byte $0a, $0a, $0e, $0a, $0a, $0a, $0a, $0a
000C93  1  0A 0A 0A 0A  
000C97  1  02 02 02 1E          .byte $02, $02, $02, $1e, $1e, $02, $02, $02
000C9B  1  1E 02 02 02  
000C9F  1  0A 0A 0A 0E          .byte $0a, $0a, $0a, $0e, $0e, $0a, $0a, $0a
000CA3  1  0E 0A 0A 0A  
000CA7  1  04 04 07 04          .byte $04, $04, $07, $04, $04, $04, $04, $04
000CAB  1  04 04 04 04  
000CAF  1  0A 0A 0B 0A          .byte $0a, $0a, $0b, $0a, $0a, $0a, $0a, $0a
000CB3  1  0A 0A 0A 0A  
000CB7  1  04 04 04 07          .byte $04, $04, $04, $07, $07, $04, $04, $04
000CBB  1  07 04 04 04  
000CBF  1  0A 0A 0A 0B          .byte $0a, $0a, $0a, $0b, $0b, $0a, $0a, $0a
000CC3  1  0B 0A 0A 0A  
000CC7  1  08 08 BF 08          .byte $08, $08, $bf, $08, $00, $00, $00, $00
000CCB  1  00 00 00 00  
000CCF  1  14 14 BF 14          .byte $14, $14, $bf, $14, $00, $00, $00, $00
000CD3  1  00 00 00 00  
000CD7  1  08 BF 08 08          .byte $08, $bf, $08, $08, $00, $08, $00, $00
000CDB  1  00 08 00 00  
000CDF  1  14 BF 14 14          .byte $14, $bf, $14, $14, $00, $14, $00, $00
000CE3  1  00 14 00 00  
000CE7  1  00 00 00 BF          .byte $00, $00, $00, $bf, $00, $00, $00, $00
000CEB  1  00 00 00 00  
000CEF  1  04 04 04 04          .byte $04, $04, $04, $04, $04, $04, $04, $04
000CF3  1  04 04 04 04  
000CF7  1  FF FF FF FF          .byte $ff, $ff, $ff, $ff, $ff, $ff, $ff, $ff
000CFB  1  FF FF FF FF  
000CFF  1               
000CFF  1               WNDLFT=$20
000CFF  1               ;0021: 4
000CFF  1               WNDWDTH=$21
000CFF  1               ;0022: 5
000CFF  1               WNDTOP=$22
000CFF  1               ;0023: 6
000CFF  1               WNDBTM=$23
000CFF  1               ;0024: 7
000CFF  1               CH=$24
000CFF  1               ;0025: 8
000CFF  1               CV=$25
000CFF  1               ;0028: 9
000CFF  1               BASL=$28
000CFF  1               ;002A: 10
000CFF  1               BAS2L=$2A
000CFF  1               ;0035: 11
000CFF  1               REGY=$35
000CFF  1               ;0038: 12
000CFF  1               KSW=$38
000CFF  1               ;0036: 13
000CFF  1               CSW=$36
000CFF  1               ;004E: 14
000CFF  1               RNDL=$4E
000CFF  1               ;00EB: 15
000CFF  1               REGX=$EB
000CFF  1               ;00EC: 16
000CFF  1               PLOC=$EC
000CFF  1               ;00EE: 17
000CFF  1               PATLOC=$EE
000CFF  1               ;00FF: 18
000CFF  1               SACC=$FF
000CFF  1               ;C000: 19
000CFF  1               KBD=$C000
000CFF  1               ;C010: 20
000CFF  1               KBDSTB=$C010
000CFF  1               ;C030: 21
000CFF  1               SPEAKER=$C030
000CFF  1               ;C050: 22
000CFF  1               SCRSW=$C050
000CFF  1               ;FBDD: 23
000CFF  1               BEEP=$FBDD
000CFF  1               ;FC22: 24
000CFF  1               VTAB=$FC22
000CFF  1               ;FC24: 25
000CFF  1               VTABZ=$FC24
000CFF  1               ;FC42: 26
000CFF  1               CLREOP=$FC42
000CFF  1               ;FC58: 27
000CFF  1               HOME=$FC58
000CFF  1               ;FC70: 28
000CFF  1               SCROL=$FC70
000CFF  1               ;FC9C: 29
000CFF  1               CLREOL=$FC9C
000CFF  1               ;FCA8: 30
000CFF  1               MWAIT=$FCA8
000CFF  1               ;FDED: 31
000CFF  1               COUT=$FDED
000CFF  1               
000CFF  1                       .ORG $0CFF
000CFF  1               ;0CFF: 33 MUST BE AT $CFF
000CFF  1               ;0CFF:4C 08 OD 34
000CFF  1               ENTRY:
000CFF  1  4C 08 0D             JMP BEGIN       ;ENTRY OF '&'
000D02  1               ;0D02:4C 11 OD 35
000D02  1  4C 11 0D             JMP INIT
000D05  1               
000D05  1               ;0D05:0A 37
000D05  1  0A                   .byte $0A
000D06  1               ;0D06:FF 38
000D06  1  FF                   .byte $FF
000D07  1               ;0D07:08 39
000D07  1  0B                   .byte $0B
000D08  1               
000D08  1               ;0D08:20 11 OD 41
000D08  1               BEGIN:
000D08  1  20 11 0D             JSR INIT
000D0B  1               ;ODOB:A9 90 42
000D0B  1  A9 90                LDA #$90        ;HOME!
000D0D  1               ;ODOD:20 ED FD 43
000D0D  1  20 ED FD             JSR COUT
000D10  1               ;0D10:60 44
000D10  1  60                   RTS
000D11  1               
000D11  1               ;0D11:AD 38 OD 46
000D11  1               INIT:
000D11  1  AD 38 0D             LDA NEWKSW      ;SET NEW KSW
000D14  1               ;0014:85 38 47
000D14  1  85 38                STA KSW
000D16  1               ;0D16:AD 39 OD 48
000D16  1  AD 39 0D             LDA NEWKSW+1
000D19  1               ;0D19:85 39 49
000D19  1  85 39                STA KSW+1
000D1B  1               ;OD1B:AD 3A OD 50
000D1B  1  AD 3A 0D             LDA NEWCSW      ;SET NEW CSW
000D1E  1               ;0D1E:85 36 51
000D1E  1  85 36                STA CSW
000D20  1               ;OD20:AD 3B OD 52
000D20  1  AD 3B 0D             LDA NEWCSW+1
000D23  1               ;0D23:85 37 53
000D23  1  85 37                STA CSW+1
000D25  1               
000D25  1               ;0D25:20 EA 03 54
000D25  1  20 EA 03             JSR DOSFET      ;DOS PATCHER
000D28  1               ;0D28:2C 52 CO 55
000D28  1  2C 52 C0             BIT SCRSW+2     ;FULL MODE S/W
000D2B  1               ;0D2B:2C 57 CO 56
000D2B  1  2C 57 C0             BIT SCRSW+7     ;HI-RES. MODE S/W
000D2E  1               ;0D2E:20 AB 10 57
000D2E  1  20 AB 10             JSR CTRLZ       ;MODE INITIALIZE
000D31  1               ;0D31:20 C9 OF 58
000D31  1  20 C9 0F             JSR CHKPAG      ;CHECK PAGE
000D34  1               ;0D34:2C 50 CO 59
000D34  1  2C 50 C0             BIT SCRSW       ;GRAPHIC MODE S/W
000D37  1               ;0D37:60 60
000D37  1  60                   RTS
000D38  1               
000D38  1               ;0D38:53 OD 62
000D38  1               NEWKSW:
000D38  1  53 0D                .word HKSW         ;HANG KSW
000D3A  1               ;0D3A:12 0E 63
000D3A  1               NEWCSW:
000D3A  1  12 0E                .word HCSW         ;HANG CSW
000D3C  1               ;0D3C:0D 64
000D3C  1  0D                   .byte $0D
000D3D  1               ;0D3D:00 65
000D3D  1               ESCFL:
000D3D  1  00                   .byte 0          ;ESC FLAG
000D3E  1               ;OD3E:00 66
000D3E  1  00                   .byte 0
000D3F  1               ;0D3F:20 67
000D3F  1               HGRAD:
000D3F  1  20                   .byte $20        ;PAGE NO.
000D40  1               ;0D40:00 68
000D40  1               INVFLG:
000D40  1  00                   .byte 0          ;INVERSE FLAG
000D41  1               ;0D41:00 69
000D41  1               POSFL:
000D41  1  00                   .byte 0          ;POSITION FLAG
000D42  1               ;0D42:00 70
000D42  1               ADRFL:
000D42  1  00                   .byte 0          ;ADDRESS FLAG
000D43  1               ;0D43:00 71
000D43  1               AUTO:
000D43  1  00                   .byte 0          ;AUTO CONNECT FLAG
000D44  1               ;0D44:00 72
000D44  1               CTSFL:
000D44  1  00                   .byte 0
000D45  1               ;0D45:FF 08 73
000D45  1               PATBASE:
000D45  1  FF 08                .word PATTERN      ;PATTERN START
000D47  1               ;0D47:00 74
000D47  1  00                   .byte 0
000D48  1               ;0D48:00 75
000D48  1  00                   .byte 0
000D49  1               ;0D49:00 76
000D49  1  00                   .byte 0
000D4A  1               ;0D4A:00 77
000D4A  1  00                   .byte 0
000D4B  1               ;0D4B:00 78
000D4B  1  00                   .byte 0
000D4C  1               ;0D4C:00 79
000D4C  1  00                   .byte 0
000D4D  1               ;0D4D:00 80
000D4D  1  00                   .byte 0
000D4E  1               ;0D4E:00 81
000D4E  1  00                   .byte 0
000D4F  1               ;0D4F:00 82
000D4F  1               NORML0:
000D4F  1  00                   .byte 0
000D50  1               ;0D50:00 83
000D50  1               HICH:
000D50  1  00                   .byte 0
000D51  1               ;0D51:00 84
000D51  1               HICV:
000D51  1  00                   .byte 0
000D52  1               ;0D52:40 85
000D52  1               KEMODE:
000D52  1  40                   .byte $40
000D53  1               
000D53  1               ;0D53:91 28 87
000D53  1               HKSW:
000D53  1  91 28                STA (BASL),Y    ;TEXT SCREEN DISP
000D55  1               ;0D55:86 EB 88
000D55  1  86 EB                STX REGX        ;SAVE X REG.
000D57  1               ;0D57:A5 28 89
000D57  1  A5 28                LDA BASL
000D59  1               ;0D59:85 2A 90
000D59  1  85 2A                STA BAS2L
000D5B  1               ;0D5B:A5 29 91
000D5B  1  A5 29                LDA BASL+1
000D5D  1               ;0D5D:09 1C 92
000D5D  1  09 1C                ORA #$1C        ;8TH SCAN LINE
000D5F  1               ;0D5F:0D 3F OD 93
000D5F  1  0D 3F 0D             ORA HGRAD       ;CONSIDER PAGE
000D62  1               ;0D62:85 2B 94
000D62  1  85 2B                STA BAS2L+1
000D64  1               ;0D64:A2 01 95
000D64  1  A2 01                LDX #1
000D66  1               ;0D66:B1 2A 96
000D66  1  B1 2A                LDA (BAS2L),Y
000D68  1               ;0D68:48 97
000D68  1  48                   PHA
000D69  1               ;0D69:E6 4E 98
000D69  1               RDKEY:
000D69  1  E6 4E                INC RNDL        ;RANDOM SEED
000D6B  1               ;0D6B:DO OB 99
000D6B  1  D0 0B                BNE CONT1
000D6D  1               ;0D6D:E6 4F 100
000D6D  1  E6 4F                INC RNDL+1
000D6F  1               ;OD6F:CA 101
000D6F  1  CA                   DEX
000D70  1               ;OD70:DO 06 102
000D70  1  D0 06                BNE CONT1
000D72  1               ;0D72:49 7F 103
000D72  1  49 7F                EOR #$7F        ;FLASH UNDERLINE
000D74  1               
000D74  1               ;0D74:91 2A 104
000D74  1  91 2A                STA (BAS2L),Y
000D76  1               ;0D76:A2 40 105
000D76  1  A2 40                LDX #$40        ;FLASHING PERIOD
000D78  1               ;0D78:2C 00 CO 106
000D78  1               CONT1:
000D78  1  2C 00 C0             BIT KBD
000D7B  1               ;0D7B:10 EC 107
000D7B  1  10 EC                BPL RDKEY
000D7D  1               ;0D7D:68 108
000D7D  1  68                   PLA
000D7E  1               ;OD7E:91 2A 109
000D7E  1  91 2A                STA (BAS2L),Y
000D80  1               ;0D80:BA 110
000D80  1  BA                   TSX
000D81  1               ;0D81:BD 04 01 111
000D81  1  BD 04 01             LDA $104,X
000D84  1               ;0DB4:C9 F8 112
000D84  1  C9 F8                CMP #$F8
000D86  1               ;0D86:AD 00 CO 113
000D86  1  AD 00 C0             LDA KBD
000D89  1               ;0D89:2C 10 CO 114
000D89  1  2C 10 C0             BIT KBDSTB
000D8C  1               ;0DBC:90 23 115
000D8C  1  90 23                BCC RSTX
000D8E  1               ;ODBE:48 116
000D8E  1  48                   PHA             ;KEY VAL.PUSH
000D8F  1               ;0DBF:2C 3D OD 117
000D8F  1  2C 3D 0D             BIT ESCFL       ;CHECK IF ESC MODE!
000D92  1               ;0D92:30 33 118
000D92  1  30 33                BMI ONESC       ;THEN,ESC PROCESS
000D94  1               ;0D94:C9 9B 119
000D94  1  C9 9B                CMP #$9B        ;IS IT A ESC?
000D96  1               ;OD96:DO 07 120
000D96  1  D0 07                BNE NOTESC
000D98  1               ;0D98:A9 80 121
000D98  1  A9 80                LDA #$80        ;IN ESC MODE!
000D9A  1               ;OD9A:8D 3D OD 122
000D9A  1  8D 3D 0D             STA ESCFL
000D9D  1               ;OD9D:DO 11 123
000D9D  1  D0 11                BNE CONT2
000D9F  1               ;0D9F:20 14 16 124
000D9F  1               NOTESC:
000D9F  1  20 13 16             JSR KPEENG
000DA2  1               ;0DA2:2C 52 OD 125
000DA2  1  2C 52 0D             BIT KEMODE      ;WHICH MODE?(K OR E)
000DA5  1               ;0DA5:30 OD 126
000DA5  1  30 0D                BMI KORMOD
000DA7  1               ;0DA7:C9 BD 127
000DA7  1               ENGMOD:
000DA7  1  C9 8D                CMP #$8D        ;IF CR?
000DA9  1               ;ODA9:DO 05 128
000DA9  1  D0 05                BNE CONT2
000DAB  1               ;ODAB:20 C2 11 129
000DAB  1  20 C1 11             JSR HCLREOL
000DAE  1               ;ODAE:A4 24 130
000DAE  1               CONT3:
000DAE  1  A4 24                LDY CH
000DB0  1               ;ODBO:68 131
000DB0  1               CONT2:
000DB0  1  68                   PLA
000DB1  1               ;0DB1:A6 EB 132
000DB1  1               RSTX:
000DB1  1  A6 EB                LDX REGX        ;RESTORE X
000DB3  1               ;0DB3:60 133
000DB3  1  60                   RTS
000DB4  1               
000DB4  1               ;0DB4:C9 8D 135
000DB4  1               KORMOD:
000DB4  1  C9 8D                CMP #$8D        ;IF CR?
000DB6  1               ;0DB6:00 F8 136
000DB6  1  D0 F8                BNE CONT2
000DB8  1               ;ODB8:48 137
000DB8  1  48                   PHA
000DB9  1               ;0DB9:A9 00 138
000DB9  1  A9 00                LDA #0
000DBB  1               ;ODBB:8D 52 OD 139
000DBB  1  8D 52 0D             STA KEMODE      ;RESET TO E-MODE
000DBE  1               ;ODBE:8D 52 12 140
000DBE  1  8D 51 12             STA STATE
000DC1  1               ;0DC1:68 141
000DC1  1  68                   PLA
000DC2  1               ;ODC2:85 24 142
000DC2  1  85 24                STA CH
000DC4  1               ;0DC4:20 BC 0E 143
000DC4  1  20 BC 0E             JSR KCTRLE
000DC7  1               
000DC7  1               ;0DC7:C9 C9 145
000DC7  1               ONESC:
000DC7  1  C9 C9                CMP #$C9        ;'I'?
000DC9  1               ;ODC9:90 0C 146
000DC9  1  90 0C                BCC NIJKM
000DCB  1               ;ODCB:C9 CD 147
000DCB  1  C9 CD                CMP #$CD        ;'M'?
000DCD  1               ;ODCD:FO 36 148
000DCD  1  F0 36                BEQ ESCMC
000DCF  1               ;ODCF:BO 06 149
000DCF  1  B0 06                BCS NIJKM
000DD1  1               ;0DD1:C9 CB 150
000DD1  1  C9 CB                CMP #$CB         ;'K'?
000DD3  1               ;0DD3:FO 2B 151
000DD3  1  F0 2B                BEQ ESCKA
000DD5  1               ;0DD5:90 D9 152
000DD5  1  90 D9                BCC CONT2
000DD7  1               ;0DD7:0E 3D OD 153
000DD7  1               NIJKM:
000DD7  1  0E 3D 0D             ASL ESCFL       ;RESET ESC FLAG!
000DDA  1               ;ODDA:C9 CO 154
000DDA  1  C9 C0                CMP #$C0        ;'@'?
000DDC  1               ;ODDC:DO 06 155
000DDC  1  D0 06                BNE NESC_
000DDE  1               
000DDE  1               ;ODDE:20 A5 11 156
000DDE  1               ESC_:
000DDE  1  20 A4 11             JSR HIHOME      ;THEN,HOME
000DE1  1               ;0DE1:4C AE OD 157
000DE1  1  4C AE 0D             JMP CONT3
000DE4  1               ;ODE4:C9 C5 158
000DE4  1               NESC_:
000DE4  1  C9 C5                CMP #$C5        ;'E'?
000DE6  1               ;ODE6:DO 06 159
000DE6  1  D0 06                BNE NESCE
000DE8  1               ;0DE8:20 C2 11 160
000DE8  1               ESCE:
000DE8  1  20 C1 11             JSR HCLREOL     ;THEN,CLEAR END OF LINE
000DEB  1               ;ODEB:4C AE OD 161
000DEB  1  4C AE 0D             JMP CONT3
000DEE  1               ;ODEE:C9 C6 162
000DEE  1               NESCE:
000DEE  1  C9 C6                CMP #$C6        ;'F'?
000DF0  1               ;ODFO:DO 06 163
000DF0  1  D0 06                BNE NESCF
000DF2  1               ;0DF2:20 AF 11 164
000DF2  1               ESCF:
000DF2  1  20 AE 11             JSR HCLREOP     ;THEN,CLEAR END OF PAGE
000DF5  1               ;0DF5:4C AE OD 165
000DF5  1  4C AE 0D             JMP CONT3
000DF8  1               ;0DF8:C9 C3 166
000DF8  1               NESCF:
000DF8  1  C9 C3                CMP #$C3        ;'C'?
000DFA  1               ;ODFA:FO 09 167
000DFA  1  F0 09                BEQ ESCMC
000DFC  1               ;ODFC:C9 C1 168
000DFC  1  C9 C1                CMP #$C1        ;'A'?
000DFE  1               ;ODFE:DO BO 169
000DFE  1  D0 B0                BNE CONT2
000E00  1               ;0E00:C8 170
000E00  1               ESCKA:
000E00  1  C8                   INY             ;CH=CH+1
000E01  1               ;0E01:C4 21 171
000E01  1  C4 21                CPY WNDWDTH     ;OVER?
000E03  1               ;0E03:90 A9 172
000E03  1  90 A9                BCC CONT3
000E05  1               ;0E05:A4 25 173
000E05  1               ESCMC:
000E05  1  A4 25                LDY CV
000E07  1               ;0E07:C8 174
000E07  1  C8                   INY ;CV=CV+1
000E08  1               ;0E08:C4 23 175
000E08  1  C4 23                CPY WNDBTM      ;OVER?
000E0A  1               ;0E0A:90 A2 176
000E0A  1  90 A2                BCC CONT3
000E0C  1               ;0E0C:20 56 11 177
000E0C  1  20 55 11             JSR HSCROL      ;THEN,HI-SCROL
000E0F  1               ;0E0F:4C AE OD 178
000E0F  1  4C AE 0D             JMP CONT3
000E12  1               
000E12  1               ;0E12:85 FF 180
000E12  1               HCSW:
000E12  1  85 FF                STA SACC        ;SAVE ACC.
000E14  1               ;0E14:86 EB 181
000E14  1  86 EB                STX REGX        ;SAVE X
000E16  1               ;0E16:84 35 182
000E16  1  84 35                STY REGY        ;SAVE Y
000E18  1               ;0E18:20 22 0E 183
000E18  1  20 22 0E             JSR CHRPRO      ;CHR. PROCESSING!
000E1B  1               ;0E1B:A4 35 184
000E1B  1  A4 35                LDY REGY        ;RESTORE Y
000E1D  1               ;0E1D:A6 EB 185
000E1D  1  A6 EB                LDX REGX        ;RESTORE X
000E1F  1               ;0E1F:A5 FF 186
000E1F  1  A5 FF                LDA SACC        ;RESTORE ACC.
000E21  1               ;0E21:60 187
000E21  1  60                   RTS
000E22  1               
000E22  1               ;0E22:29 7F 189
000E22  1               CHRPRO:
000E22  1  29 7F                AND #$7F        ;MASK BIT 7
000E24  1               ;0E24:2C 52 OD 190
000E24  1  2C 52 0D             BIT KEMODE      ;WHERE IN?
000E27  1               ;0E27:30 16 191
000E27  1  30 16                BMI INKOR
000E29  1               ;0E29:C9 20 192
000E29  1               INENG:
000E29  1  C9 20                CMP #$20        ;DISPLAYABLE?
000E2B  1               ;0E2B:90 03 193
000E2B  1  90 03                BCC ECTRL
000E2D  1               ;0E2D:4C 2A 11 194
000E2D  1  4C 29 11             JMP NORMOUT
000E30  1               ;0E30:09 1B 195
000E30  1               ECTRL:
000E30  1  C9 1B                CMP #$1B        ;IF ESC OR MORE?
000E32  1               ;0E32:B0 0A 196
000E32  1  B0 0A                BCS RTS1        ;THEN,RETURN
000E34  1               ;0E34:0A 197
000E34  1  0A                   ASL A           ;*2
000E35  1               ;0E35:AA 198
000E35  1  AA                   TAX
000E36  1               ;0E36:BD 86 0F 199
000E36  1  BD 86 0F             LDA ECTRLV+1,X  ;GET CTRL-VEC.
000E39  1               ;0E39:48 200
000E39  1  48                   PHA
000E3A  1               ;0E3A:BD 85 OF 201
000E3A  1  BD 85 0F             LDA ECTRLV,X
000E3D  1               ;0E3D:48 202
000E3D  1  48                   PHA
000E3E  1               ;0E3E:60 203
000E3E  1               RTS1:
000E3E  1  60                   RTS             ;GO THERE!
000E3F  1               
000E3F  1               ;0E3F:C9 01 205
000E3F  1               INKOR:
000E3F  1  C9 01                CMP #1          ;CTRL-A IN KOREAN
000E41  1               ;0E41:00 OD 206
000E41  1  D0 0D                BNE NCTRLA
000E43  1               ;0E43:A9 00 207
000E43  1  A9 00                LDA #0          ;RESET KEMODE
000E45  1               ;0E45:8D 52 OD 208
000E45  1  8D 52 0D             STA KEMODE
000E48  1               ;0E48:A9 20 209
000E48  1  A9 20                LDA #$20        ;A BLANK!
000E4A  1               ;0E4A:20 20 12 210
000E4A  1  20 1F 12             JSR KOROUT      ;DISP!
000E4D  1               ;0E4D:C6 24 211
000E4D  1  C6 24                DEC CH
000E4F  1               ;0E4F:60 212
000E4F  1  60                   RTS
000E50  1               
000E50  1               ;0E50:C9 20 214
000E50  1               NCTRLA:
000E50  1  C9 20                CMP #$20        ;DISPLAYABLE?
000E52  1               ;0E52:90 19 215
000E52  1  90 19                BCC CHKCTRL
000E54  1               ;0E54:4C 20 12 216
000E54  1  4C 1F 12             JMP KOROUT      ;THEN,DISP!
000E57  1               ;0E57:A5 24 218
000E57  1               TPSAVE:
000E57  1  A5 24                LDA CH          ;CH TEMP.SAVE
000E59  1               ;0E59:8D 47 12 219
000E59  1  8D 46 12             STA TEMPCH
000E5C  1               ;0E5C:A5 25 220
000E5C  1  A5 25                LDA CV          ;CV TEMP.SAVE
000E5E  1               ;0E5E:8D 46 12 221
000E5E  1  8D 45 12             STA TEMPCV
000E61  1               ;0E61:60 222
000E61  1  60                   RTS
000E62  1               
000E62  1               ;0E62:AD 47 12 224
000E62  1               TPLOAD:
000E62  1  AD 46 12             LDA TEMPCH      ;RESTORE CH
000E65  1               ;0E65:85 24 225
000E65  1  85 24                STA CH
000E67  1               ;0E67:AD 46 12 226
000E67  1  AD 45 12             LDA TEMPCV      ;RESTORE CV
000E6A  1               ;0E6A:85 25 227
000E6A  1  85 25                STA CV
000E6C  1               ;0E6C:60 228
000E6C  1  60                   RTS
000E6D  1               ;0E6D:C9 1B 230
000E6D  1               CHKCTRL:
000E6D  1  C9 1B                CMP #$1B
000E6F  1               ;0E6F:B0 OD 231
000E6F  1  B0 0D                BCS RTS22
000E71  1               ;0E71:0A 232
000E71  1  0A                   ASL A           ;*2
000E72  1               ;0E72:AA 233
000E72  1  AA                   TAX
000E73  1               ;0E73:BD 80 0E 234
000E73  1  BD 80 0E             LDA KCTRLV+1,X  ;GET KCTRL-VEC.
000E76  1               ;0E76:48 235
000E76  1  48                   PHA
000E77  1               ;0E77:BD 7F 0E 236
000E77  1  BD 7F 0E             LDA KCTRLV,X
000E7A  1               ;0E7A:48 237
000E7A  1  48                   PHA
000E7B  1               ;0E7B:20 57 0E 238
000E7B  1  20 57 0E             JSR TPSAVE
000E7E  1               ;0E7E:60 239
000E7E  1               RTS22:
000E7E  1  60                   RTS
000E7F  1               
000E7F  1               ;0E7F: 241 ***********************************
000E7F  1               ;0E7F: 242 *
000E7F  1               ;0E7F: 243 * CTRL-KEY JMP VECTOR IN KOREAN
000E7F  1               ;0E7F: 244 *
000E7F  1               ;0E7F: 245 ***********************************
000E7F  1               
000E7F  1               ;0E7F:FC 0F 247
000E7F  1               KCTRLV:
000E7F  1  FC 0F                .word SIMRTN-1     ;CTRL-@
000E81  1               ;0E81:FC 0F 248
000E81  1  FC 0F                .word SIMRTN-1     ;CTRL-A
000E83  1               ;0E83:FC 0F 249
000E83  1  FC 0F                .word SIMRTN-1     ;CTRL-B
000E85  1               ;0E85:B4 0E 250
000E85  1  B4 0E                .word SIMRTN1-1    ;CTRL-C
000E87  1               ;0E87:FC 0F 251
000E87  1  FC 0F                .word SIMRTN-1     ;CTRL-D
000E89  1               ;0E89:BB 0E 252
000E89  1  BB 0E                .word KCTRLE-1     ;CTRL-E
000E8B  1               ;0E8B:CC 0E 253
000E8B  1  CC 0E                .word KCTRLF-1     ;CTRL-F
000E8D  1               ;0E8D:DC FB 254
000E8D  1  DC FB                .word BEEP-1       ;CTRL-6
000E8F  1               ;0E8F:0C 0F 255
000E8F  1  0C 0F                .word KCTRLH-1     ;CTRL-H
000E91  1               ;0E91:F7 0F 256
000E91  1  F7 0F                .word CTRLI-1      ;CTRL-I
000E93  1               ;0E93:B5 0E 257
000E93  1  B5 0E                .word KCTRLJ-1     ;CTRL-J
000E95  1               ;0E95:FC 0F 258
000E95  1  FC 0F                .word SIMRTN-1     ;CTRL-K
000E97  1               ;0E97:FC 0F 259
000E97  1  FC 0F                .word SIMRTN-1     ;CTRL-L
000E99  1               ;0E99:7D 0F 260
000E99  1  7D 0F                .word KCTRLM-1     ;CTRL-M
000E9B  1               ;0E9B:1E 10 261
000E9B  1  1E 10                .word CTRLN-1      ;CTRL-N
000E9D  1               ;0E9D:FC 0F 262
000E9D  1  FC 0F                .word SIMRTN-1     ;CTRL-0
000E9F  1               ;0E9F:24 10 263
000E9F  1  24 10                .word CTRLP-1      ;CTRL-P
000EA1  1               ;0EA1:2A 10 264
000EA1  1  2A 10                .word CTRLQ-1      ;CTRL-Q
000EA3  1               ;0EA3:FC 0F 265
000EA3  1  FC 0F                .word SIMRTN-1     ;CTRL-R
000EA5  1               ;0EA5:37 10 266
000EA5  1  37 10                .word CTRLS-1      ;CTRL-S
000EA7  1               ;0EA7:2D 16 267
000EA7  1  2C 16                .word CTRLT-1      ;CTRL-T
000EA9  1               ;0EA9:FC OF 268
000EA9  1  FC 0F                .word SIMRTN-1     ;CTRL-U
000EAB  1               ;0EAB:3D 10 269
000EAB  1  3D 10                .word CTRLV-1      ;CTRL-V
000EAD  1               ;OEAD:69 10 270
000EAD  1  69 10                .word CTRLW-1      ;CTRL-W
000EAF  1               ;0EAF:FC OF 271
000EAF  1  FC 0F                .word SIMRTN-1     ;CTRL-X
000EB1  1               ;0EB1:88 10 272
000EB1  1  88 10                .word CTRLY-1      ;CTRL-Y
000EB3  1               ;0EB3:AA 10 273
000EB3  1  AA 10                .word CTRLZ-1      ;CTRL-Z
000EB5  1               ;0EB5:60 275
000EB5  1               SIMRTN1:
000EB5  1  60                   RTS
000EB6  1               
000EB6  1               ;0EB6:20 DA 0E 277
000EB6  1               KCTRLJ:
000EB6  1  20 DA 0E             JSR LFOUT
000EB9  1               ;0EB9:4C 70 FC 278
000EB9  1  4C 70 FC             JMP SCROL
000EBC  1               
000EBC  1               ;0EBC:A9 20 280
000EBC  1               KCTRLE:
000EBC  1  A9 20                LDA #$20        ;A BLANK
000EBE  1               ;0EBE:20 20 12 281
000EBE  1  20 1F 12             JSR KOROUT      ;DISP!
000EC1  1               ;0EC1:20 C2 11 282
000EC1  1  20 C1 11             JSR HCLREOL     ;CLEAR CURRENT
000EC4  1               ;0EC4:E6 25 283
000EC4  1  E6 25                INC CV          ;CV=CV+1 LINE
000EC6  1               ;0EC6:20 C2 11 284
000EC6  1  20 C1 11             JSR HCLREOL     ;CLEAR NEXT LINE
000EC9  1               ;0EC9:20 62 0E 285
000EC9  1  20 62 0E             JSR TPLOAD      ;RESTORE $24,5
000ECC  1               ;0ECC:60 286
000ECC  1  60                   RTS
000ECD  1               
000ECD  1               ;OECD:E6 25 288
000ECD  1               KCTRLF:
000ECD  1  E6 25                INC CV          ;CV=CV+1
000ECF  1               ;0ECF:20 AF 11 289
000ECF  1  20 AE 11             JSR HCLREOP
000ED2  1               ;0ED2:20 62 0E 290
000ED2  1  20 62 0E             JSR TPLOAD
000ED5  1               ;0ED5:60 291
000ED5  1  60                   RTS
000ED6  1               
000ED6  1               ;0ED6:A9 00 293
000ED6  1               ASCROL:
000ED6  1  A9 00                LDA #0          ;CH=0
000ED8  1               ;0ED8:85 24 294
000ED8  1  85 24                STA CH
000EDA  1               ;OEDA:E6 25 295
000EDA  1               LFOUT:
000EDA  1  E6 25                INC CV          ;CV=CV+1
000EDC  1               ;OEDC:E6 25 296
000EDC  1  E6 25                INC CV          ;CV=CV+1
000EDE  1               ;OEDE:A5 25 297
000EDE  1  A5 25                LDA CV          ;CHECK CV!
000EE0  1               ;0EE0:C9 17 298
000EE0  1  C9 17                CMP #$17
000EE2  1               ;0EE2:F0 07 299
000EE2  1  F0 07                BEQ ATBTM
000EE4  1               ;0EE4:90 OD 300
000EE4  1  90 0D                BCC NONEED
000EE6  1               ;0EE6:C6 25 301
000EE6  1  C6 25                DEC CV          ;CV=CV-1
000EE8  1               ;0EE8:20 56 11 302
000EE8  1  20 55 11             JSR HSCROL
000EEB  1               ;0EEB:C6 25 303
000EEB  1               ATBTM:
000EEB  1  C6 25                DEC CV          ;CV=CV-1
000EED  1               
000EED  1               ;0EED:20 56 11 304
000EED  1  20 55 11             JSR HSCROL
000EF0  1               ;0EF0:20 70 FC 305
000EF0  1  20 70 FC             JSR SCROL
000EF3  1               ;0EF3:60 306
000EF3  1               NONEED:
000EF3  1  60                   RTS
000EF4  1               
000EF4  1               ;0EF4:AC 00 CO 308
000EF4  1               KEYCHK:
000EF4  1  AC 00 C0             LDY KBD         ;READ KEYBOARD
000EF7  1               ;0EF7:10 13 309
000EF7  1  10 13                BPL RTS2
000EF9  1               ;0EF9:CO 93 310
000EF9  1  C0 93                CPY #$93        ;CTRL-S?
000EFB  1               ;0EFB:DO 0F 311
000EFB  1  D0 0F                BNE RTS2
000EFD  1               ;0EFD:2C 10 CO 312
000EFD  1  2C 10 C0             BIT KBDSTB
000F00  1               ;0F00:AC 00 CO 313
000F00  1               KWAIT:
000F00  1  AC 00 C0             LDY KBD
000F03  1               ;0F03:10 FB 314
000F03  1  10 FB                BPL KWAIT
000F05  1               ;0F05:C0 83 315
000F05  1  C0 83                CPY #$83        ;CTRL-C?
000F07  1               ;0F07:F0 03 316
000F07  1  F0 03                BEQ RTS2
000F09  1               ;0F09:2C 10 CO 317
000F09  1  2C 10 C0             BIT KBDSTB
000F0C  1               ;OFOC:60 318
000F0C  1               RTS2:
000F0C  1  60                   RTS
000F0D  1               
000F0D  1               ;OFOD: 320 ***********************************************
000F0D  1               ;OFOD: 321 *
000F0D  1               ;OFOD: 322 * CTRL-H PROCESS IN KOREAN
000F0D  1               ;OFOD: 323 *
000F0D  1               ;OFOD: 324 ***********************************************
000F0D  1               
000F0D  1               ;0F0D:AD 52 12 326
000F0D  1               KCTRLH:
000F0D  1  AD 51 12             LDA STATE       ;GET CURRENT ST.NO
000F10  1               ;0F10:0A 327
000F10  1  0A                   ASL A ;*2
000F11  1               ;0F11:AA 328
000F11  1  AA                   TAX
000F12  1               ;0F12:BD 32 OF 329
000F12  1  BD 32 0F             LDA KCTRLHV+1,X
000F15  1               ;0F15:48 330
000F15  1  48                   PHA
000F16  1               ;0F16:BD 31 OF 331
000F16  1  BD 31 0F             LDA KCTRLHV,X
000F19  1               ;0F19:48 332
000F19  1  48                   PHA
000F1A  1               ;0F1A:AE 52 12 333
000F1A  1  AE 51 12             LDX STATE
000F1D  1               ;OF1D:BD 26 0F 334
000F1D  1  BD 26 0F             LDA STCONV,X    ;GET NEW STATE NO.
000F20  1               ;0F20:8D 52 12 335
000F20  1  8D 51 12             STA STATE
000F23  1               ;0F23:A9 20 336
000F23  1  A9 20                LDA #$20        ;A BLANK
000F25  1               ;0F25:60 337
000F25  1  60                   RTS             ;GO THERE
000F26  1               
000F26  1               ;0F26: 339 *************************************
000F26  1               ;0F26: 340 *
000F26  1               ;0F26: 341 * STATE COVERSION TABLE
000F26  1               ;0F26: 342 *
000F26  1               ;0F26: 343 ***********************************
000F26  1               
000F26  1               ;0F26:00 345
000F26  1               STCONV:
000F26  1  00                   .byte $00       ;(0)->(0)
000F27  1               ;0F27:00 346
000F27  1  00                   .byte $00       ;(1)->(0)
000F28  1               ;0F28:01 347
000F28  1  01                   .byte $01       ;(2)->(1)
000F29  1               ;0F29:01 348
000F29  1  01                   .byte $01       ;(3)->(1)
000F2A  1               ;0F2A:02 349
000F2A  1  02                   .byte $02       ;(4)->(2)
000F2B  1               ;0F2B:03 350
000F2B  1  03                   .byte $03       ;(5)->(3)
000F2C  1               ;0F2C:03 351
000F2C  1  03                   .byte $03       ;(6)->(3)
000F2D  1               ;0F2D:04 352
000F2D  1  04                   .byte $04       ;(7)->(4)
000F2E  1               ;0F2E:06 353
000F2E  1  06                   .byte $06       ;(8)->(6)"
000F2F  1               
000F2F  1               ;0F2F:06 354
000F2F  1  06                   .byte $06
000F30  1               ;0F30:09 355
000F30  1  09                   .byte $09
000F31  1               
000F31  1               ;0F31: 357  *******************************
000F31  1               ;0F31: 358  *
000F31  1               ;0F31: 359  * CTRL-H JMP VECTOR IN KOREAN
000F31  1               ;0F31: 360  *
000F31  1               ;0F31: 361  *******************************
000F31  1               
000F31  1               ;0F31:46 0F 363
000F31  1               KCTRLHV:
000F31  1  46 0F                .word WASIN0-1
000F33  1               ;0F33:4D 14 364
000F33  1  4C 14                .word WASIN1-1
000F35  1               ;0F35:77 0F 365
000F35  1  77 0F                .word WASIN25-1
000F37  1               ;0F37:62 14 366
000F37  1  61 14                .word WASIN3-1
000F39  1               ;0F39:76 14 367
000F39  1  75 14                .word WASIN4-1
000F3B  1               ;0F3B:77 0F 368
000F3B  1  77 0F                .word WASIN25-1
000F3D  1               ;OF3D:58 14 369
000F3D  1  57 14                .word WASIN6-1
000F3F  1               ;0F3F:5C 0F 370
000F3F  1  5C 0F                .word WASIN7-1
000F41  1               ;0F41:65 0F 371
000F41  1  65 0F                .word WASIN8-1
000F43  1               ;0F43:6E 0F 372
000F43  1  6E 0F                .word WASWHAT-1    ;?
000F45  1               ;0F45:58 14 373
000F45  1  57 14                .word WASIN6-1     ;?
000F47  1               
000F47  1               ;0F47:C6 24 375
000F47  1               WASIN0:
000F47  1  C6 24                DEC CH          ;CH=CH-1
000F49  1               ;0F49:10 06 376
000F49  1  10 06                BPL NO1
000F4B  1               ;OF4B:A9 27 377
000F4B  1  A9 27                LDA #$27        ;RIGHTMOST
000F4D  1               ;OF4D:85 24 378
000F4D  1  85 24                STA CH
000F4F  1               ;OF4F:C6 25 379
000F4F  1  C6 25                DEC CV
000F51  1               ;0F51:20 57 0E 380
000F51  1               NO1:
000F51  1  20 57 0E             JSR TPSAVE      ;CH,V SAVE
000F54  1               ;0F54:A9 AO 381
000F54  1  A9 A0                LDA #$A0
000F56  1               ;0F56:85 FF 382
000F56  1  85 FF                STA SACC
000F58  1               ;0F58:A9 20 383
000F58  1  A9 20                LDA #$20        ;CHR.=BLANK!
000F5A  1               ;0F5A:4C 4E 14 384
000F5A  1  4C 4D 14             JMP WASIN1      ;CV,CV+1 CLEAR!
000F5D  1               
000F5D  1               ;OF5D:AD 4C 12 386
000F5D  1               WASIN7:
000F5D  1  AD 4B 12             LDA P123B       ;GET C' OF 1ST
000F60  1               ;0F60:20 77 14 387
000F60  1  20 76 14             JSR WASIN4      ;MAKE IT C OF 2ND
000F63  1               ;0F63:4C 61 14 388
000F63  1  4C 60 14             JMP LOWBLK
000F66  1               
000F66  1               ;OF66:AD 4C 12 390
000F66  1               WASIN8:
000F66  1  AD 4B 12             LDA P123B       ;GET C' OF 1ST
000F69  1               ;0F69:20 59 14 391
000F69  1  20 58 14             JSR WASIN6      ;MAKE IT AS C OF 2ND
000F6C  1               ;0F6C:4C 61 14 392
000F6C  1  4C 60 14             JMP LOWBLK
000F6F  1               
000F6F  1               ;OF6F:AD 4C 12 394
000F6F  1               WASWHAT:
000F6F  1  AD 4B 12             LDA P123B
000F72  1               ;0F72:20 59 14 395
000F72  1  20 58 14             JSR WASIN6
000F75  1               ;0F75:4C 61 14 396
000F75  1  4C 60 14             JMP LOWBLK
000F78  1               
000F78  1               ;0F78:20 59 14 398
000F78  1               WASIN25:
000F78  1  20 58 14             JSR WASIN6      ;DELETE V.V
000F7B  1               ;0F7B:4C 6B 14 399
000F7B  1  4C 6A 14             JMP LOWBLK2
000F7E  1               
000F7E  1               ;0F7E:20 F4 0E 401
000F7E  1               KCTRLM:
000F7E  1  20 F4 0E             JSR KEYCHK      ;CHECK KEYBOARD
000F81  1               ;0F81:20 D6 0E 402
000F81  1  20 D6 0E             JSR ASCROL
000F84  1               ;0F84:60 403
000F84  1  60                   RTS
000F85  1               
000F85  1               ;0F85: 405 ************************************************
000F85  1               ;0F85: 406 *
000F85  1               ;0F85: 407 * CTRL-CODE JMP VECTOR IN ENGLISH
000F85  1               ;0F85: 408 *
000F85  1               ;0F85: 409 **************************************************
000F85  1               
000F85  1               ;0F85:FC OF 411
000F85  1               ECTRLV:
000F85  1  FC 0F                .word SIMRTN-1     ;CTRL-@
000F87  1               ;OF87:FC 0F 412
000F87  1  FC 0F                .word SIMRTN-1     ;CTRL-A
000F89  1               ;0F89:FC OF 413
000F89  1  FC 0F                .word SIMRTN-1     ;CTRL-B
000F8B  1               ;0F8B:BA 0F 414
000F8B  1  BA 0F                .word LFCR-1       ;CTRL-C
000F8D  1               ;OF8D:FC OF 415
000F8D  1  FC 0F                .word SIMRTN-1     ;CTRL-D
000F8F  1               ;OFBF:D6 0F 416
000F8F  1  D6 0F                .word CTRLE-1      ;CTRL-E
000F91  1               ;0F91:DC 0F 417
000F91  1  DC 0F                .word CTRLF-1      ;CTRL-F
000F93  1               ;0F93:DC FB 418
000F93  1  DC FB                .word BEEP-1       ;CTRL-6
000F95  1               ;0F95:E2 OF 419
000F95  1  E2 0F                .word CTRLH-1      ;CTRL-H
000F97  1               ;0F97:F7 OF 420
000F97  1  F7 0F                .word CTRLI-1      ;CTRL-I
000F99  1               ;0F99:38 11 421
000F99  1  37 11                .word CTRLJ-1      ;CTRL-J
000F9B  1               ;OF9B:FD OF 422
000F9B  1  FD 0F                .word CTRLK-1      ;CTRL-K
000F9D  1               ;OF9D:FC 0F 423
000F9D  1  FC 0F                .word SIMRTN-1     ;CTRL-L
000F9F  1               ;0F9F:0B 10 424
000F9F  1  0B 10                .word CTRLM-1      ;CTRL-M
000FA1  1               ;0FA1:1E 10 425
000FA1  1  1E 10                .word CTRLN-1      ;CTRL-N
000FA3  1               ;0FA3:FC OF 426
000FA3  1  FC 0F                .word SIMRTN-1     ;CTRL-O
000FA5  1               ;0FA5:24 10 427
000FA5  1  24 10                .word CTRLP-1      ;CTRL-P
000FA7  1               ;0FA7:2A 10 428
000FA7  1  2A 10                .word CTRLQ-1      ;CTRL-Q
000FA9  1               ;OFA9:FC 0F 429
000FA9  1  FC 0F                .word SIMRTN-1     ;CTRL-R
000FAB  1               ;OFAB:37 10 430
000FAB  1  37 10                .word CTRLS-1      ;CTRL-S
000FAD  1               ;OFAD:2D 16 431
000FAD  1  2C 16                .word CTRLT-1      ;CTRL-T
000FAF  1               ;OFAF:FC 0F 432
000FAF  1  FC 0F                .word SIMRTN-1     ;CTRL-U
000FB1  1               ;0FB1:3D 10 433
000FB1  1  3D 10                .word CTRLV-1      ;CTRL-V
000FB3  1               ;0FB3:69 10 434
000FB3  1  69 10                .word CTRLW-1      ;CTRL-W
000FB5  1               ;0FB5:FC 0F 435
000FB5  1  FC 0F                .word SIMRTN-1     ;CTRL-X
000FB7  1               ;0FB7:88 10 436
000FB7  1  88 10                .word CTRLY-1      ;CTRL-Y
000FB9  1               ;OFB9:AA 10 437
000FB9  1  AA 10                .word CTRLZ-1      ;CTRL-Z
000FBB  1               
000FBB  1               ;OFBB:AD 50 OD 439
000FBB  1               LFCR:
000FBB  1  AD 50 0D             LDA HICH
000FBE  1               ;OFBE:C5 24 440
000FBE  1  C5 24                CMP CH
000FC0  1               ;0FC0:85 24 441
000FC0  1  85 24                STA CH
000FC2  1               ;0FC2:F0 02 442
000FC2  1  F0 02                BEQ GOCR
000FC4  1               ;0FC4:B0 37 443
000FC4  1  B0 37                BCS SIMRTN
000FC6  1               ;0FC6:4C 39 11 444
000FC6  1               GOCR:
000FC6  1  4C 38 11             JMP CTRLJ
000FC9  1               
000FC9  1               ;0FC9:2C 54 CO 446
000FC9  1               CHKPAG:
000FC9  1  2C 54 C0             BIT SCRSW+4     ;PAGE1
000FCC  1               ;OFCC:AD 3F OD 447
000FCC  1  AD 3F 0D             LDA HGRAD       ;CHECK PAGE!
000FCF  1               ;0FCF:C9 40 448
000FCF  1  C9 40                CMP #$40
000FD1  1               ;OFD1:DO 2A 449
000FD1  1  D0 2A                BNE SIMRTN
000FD3  1               ;OFD3:2C 55 CO 450
000FD3  1  2C 55 C0             BIT SCRSW+5     ;PA6E2
000FD6  1               ;0FD6:60 451
000FD6  1  60                   RTS
000FD7  1               
000FD7  1               ;0FD7:20 C2 11 453
000FD7  1               CTRLE:
000FD7  1  20 C1 11             JSR HCLREOL     ;CLEAR END OF LINE
000FDA  1               
000FDA  1               ;OFDA:4C 9C FC 454
000FDA  1  4C 9C FC             JMP CLREOL
000FDD  1               
000FDD  1               ;OFDD:20 AF 11 456
000FDD  1               CTRLF:
000FDD  1  20 AE 11             JSR HCLREOP     ;CLEAR END OF PAGE
000FE0  1               ;0FE0:4C 42 FC 457
000FE0  1  4C 42 FC             JMP CLREOP
000FE3  1               
000FE3  1               ;0FE3:C6 24 459
000FE3  1               CTRLH:
000FE3  1  C6 24                DEC CH          ;CH=CH-1
000FE5  1               ;0FE5:10 16 460
000FE5  1  10 16                BPL SIMRTN      ;OVER RIGHT?
000FE7  1               ;0FE7:A5 21 461
000FE7  1  A5 21                LDA WNDWDTH     ;THEN,CH=RIGHT-I
000FE9  1               ;0FE9:85 24 462
000FE9  1  85 24                STA CH
000FEB  1               ;OFEB:C6 24 463
000FEB  1  C6 24                DEC CH
000FED  1               ;OFED:A5 22 464
000FED  1  A5 22                LDA WNDTOP      ;CHECK IF TOP OVER?
000FEF  1               ;0FEF:C5 25 465
000FEF  1  C5 25                CMP CV
000FF1  1               ;OFF1:B0 0A 466
000FF1  1  B0 0A                BCS SIMRTN
000FF3  1               ;0FF3:C6 25 467
000FF3  1  C6 25                DEC CV          ;THEN,CV=TOP
000FF5  1               ;0FF5:4C 22 FC 468
000FF5  1  4C 22 FC             JMP VTAB
000FF8  1               
000FF8  1               ;0FF8:A9 7F 470
000FF8  1               CTRLI:
000FF8  1  A9 7F                LDA #$7F        ;SET INVERSE
000FFA  1               ;OFFA:8D 40 OD 471
000FFA  1  8D 40 0D             STA INVFLG
000FFD  1               ;OFFD:60 472
000FFD  1               SIMRTN:
000FFD  1  60                   RTS
000FFE  1               
000FFE  1               ;OFFE:A9 80 474
000FFE  1               CTRLK:
000FFE  1  A9 80                LDA #$80        ;SET KOR MODE
001000  1               ;1000:8D 52 OD 475
001000  1  8D 52 0D             STA KEMODE
001003  1               ;1003:A5 25 476
001003  1  A5 25                LDA CV          ;CHECK CURRENT CV!
001005  1               ;1005:C9 17 477
001005  1  C9 17                CMP #$17        ;BOTTOM LINE?
001007  1               ;1007:DO F4 478
001007  1  D0 F4                BNE SIMRTN
001009  1               ;1009:4C EB 0E 479
001009  1  4C EB 0E             JMP ATBTM
00100C  1               
00100C  1               ;100C:20 F4 0E 481
00100C  1               CTRLM:
00100C  1  20 F4 0E             JSR KEYCHK
00100F  1               ;100F:A9 40 482
00100F  1  A9 40                LDA #$40
001011  1               ;1011:CD 52 OD 483
001011  1  CD 52 0D             CMP KEMODE
001014  1               ;1014:F0 06 484
001014  1  F0 06                BEQ SCRL1
001016  1               ;1016:8D 52 OD 485
001016  1  8D 52 0D             STA KEMODE
001019  1               ;1019:4C D6 0E 486
001019  1  4C D6 0E             JMP ASCROL
00101C  1               
00101C  1               ;101C:4C 35 11 488
00101C  1               SCRL1:
00101C  1  4C 34 11             JMP SCROL1
00101F  1               
00101F  1               ;101F:A9 00 490
00101F  1               CTRLN:
00101F  1  A9 00                LDA #0          ;SET NORMAL
001021  1               ;1021:8D 40 OD 491
001021  1  8D 40 0D             STA INVFLG
001024  1               ;1024:60 492
001024  1  60                   RTS
001025  1               
001025  1               ;1025:20 A5 11 494
001025  1               CTRLP:
001025  1  20 A4 11             JSR HIHOME      ;HOME!
001028  1               ;1028:4C 58 FC 495
001028  1  4C 58 FC             JMP HOME
00102B  1               
00102B  1               ;102B:AD 50 OD 497
00102B  1               CTRLQ:
00102B  1  AD 50 0D             LDA HICH
00102E  1               ;102E:85 24 498
00102E  1  85 24                STA CH
001030  1               ;1030:AD 51 OD 499
001030  1  AD 51 0D             LDA HICV
001033  1               ;1033:85 25 500
001033  1  85 25                STA CV
001035  1               ;1035:4C 24 FC 501
001035  1  4C 24 FC             JMP VTABZ
001038  1               
001038  1               ;1038:A9 CO 503
001038  1               CTRLS:
001038  1  A9 C0                LDA #$C0
00103A  1               ;103A:80 44 OD 504
00103A  1  8D 44 0D             STA CTSFL
00103D  1               ;103D:60 505
00103D  1  60                   RTS
00103E  1               
00103E  1               ;103E:A5 24 507
00103E  1               CTRLV:
00103E  1  A5 24                LDA CH
001040  1               ;1040:65 20 508
001040  1  65 20                ADC WNDLFT
001042  1               ;1042:C9 28 509
001042  1  C9 28                CMP #$28        ;OVER?
001044  1               ;1044:90 02 510
001044  1  90 02                BCC NO2
001046  1               ;1046:A9 27 511
001046  1  A9 27                LDA #$27
001048  1               ;1048:85 20 512
001048  1               NO2:
001048  1  85 20                STA WNDLFT
00104A  1               ;104A:38 513
00104A  1  38                   SEC
00104B  1               ;104B:A5 21 514
00104B  1  A5 21                LDA WNDWDTH
00104D  1               ;104D:E5 24 515
00104D  1  E5 24                SBC CH
00104F  1               ;104F:85 21 516
00104F  1  85 21                STA WNDWDTH
001051  1               ;1051:A9 00 517
001051  1  A9 00                LDA #0
001053  1               ;1053:85 24 518
001053  1  85 24                STA CH
001055  1               ;1055:A5 25 519
001055  1  A5 25                LDA CV
001057  1               ;1057:C9 18 520
001057  1  C9 18                CMP #$18
001059  1               ;1059:90 02 521
001059  1  90 02                BCC NO3
00105B  1               ;105B:A9 17 522
00105B  1  A9 17                LDA #$17
00105D  1               ;105D:85 22 523
00105D  1               NO3:
00105D  1  85 22                STA WNDTOP
00105F  1               ;105F:2C 4F OD 524
00105F  1  2C 4F 0D             BIT NORML0
001062  1               ;1062:30 03 525
001062  1  30 03                BMI GOVTAB
001064  1               ;1064:8D 51 OD 526
001064  1  8D 51 0D             STA HICV
001067  1               ;1067:4C 22 FC 527
001067  1               GOVTAB:
001067  1  4C 22 FC             JMP VTAB
00106A  1               
00106A  1               ;106A:A5 24 529
00106A  1               CTRLW:
00106A  1  A5 24                LDA CH
00106C  1               ;106C:85 21 530
00106C  1  85 21                STA WNDWDTH
00106E  1               ;106E:65 20 531
00106E  1  65 20                ADC WNDLFT
001070  1               ;1070:C9 28 532
001070  1  C9 28                CMP #$28
001072  1               ;1072:90 06 533
001072  1  90 06                BCC NO4
001074  1               ;1074:A9 27 534
001074  1  A9 27                LDA #$27
001076  1               ;1076:E5 20 535
001076  1  E5 20                SBC WNDLFT
001078  1               ;1078:85 21 536
001078  1  85 21                STA WNDWDTH
00107A  1               ;107A:E6 21 537
00107A  1               NO4:
00107A  1  E6 21                INC WNDWDTH
00107C  1               ;107C:A5 25 538
00107C  1  A5 25                LDA CV
00107E  1               ;107E:C9 18 539
00107E  1  C9 18                CMP #$18
001080  1               ;1080:90 02 540
001080  1  90 02                BCC NO5
001082  1               ;1082:A9 17 541
001082  1  A9 17                LDA #$17
001084  1               ;1084:85 23 542
001084  1               NO5:
001084  1  85 23                STA WNDBTM
001086  1               ;1086:E6 23 543
001086  1  E6 23                INC WNDBTM
001088  1               ;1088:60 544
001088  1  60                   RTS
001089  1               
001089  1               ;1089:A5 20 546
001089  1               CTRLY:
001089  1  A5 20                LDA WNDLFT      ;CH=WNDLFT+CH
00108B  1               ;108B:65 24 547
00108B  1  65 24                ADC CH
00108D  1               ;108D:85 24 548
00108D  1  85 24                STA CH
00108F  1               ;108F:A9 00 549
00108F  1  A9 00                LDA #0
001091  1               ;1091:85 20 550
001091  1  85 20                STA WNDLFT      ;WNDLFT=0
001093  1               ;1093:85 22 551
001093  1  85 22                STA WNDTOP      ;WNDTOP=0
001095  1               ;1095:2C 4F OD 552
001095  1  2C 4F 0D             BIT NORML0
001098  1               ;1098:30 06 553
001098  1  30 06                BMI NO6
00109A  1               ;109A:8D 50 OD 554
00109A  1  8D 50 0D             STA HICH
00109D  1               ;109D:8D 51 OD 555
00109D  1  8D 51 0D             STA HICV
0010A0  1               ;10AO:A9 28 556
0010A0  1               NO6:
0010A0  1  A9 28                LDA #$28
0010A2  1               ;10A2:85 21 557
0010A2  1  85 21                STA WNDWDTH
0010A4  1               
0010A4  1               ;10A4:A9 18 558
0010A4  1  A9 18                LDA #$18
0010A6  1               ;10A6:85 23 559
0010A6  1  85 23                STA WNDBTM
0010A8  1               ;10A8:4C 22 FC 560
0010A8  1  4C 22 FC             JMP VTAB
0010AB  1               
0010AB  1               ;10AB:A9 00 562
0010AB  1               CTRLZ:
0010AB  1  A9 00                LDA #0          ;CLEAR ALL MODE
0010AD  1               ;10AD:AO 12 563
0010AD  1  A0 12                LDY #$12
0010AF  1               ;10AF:99 3F OD 564
0010AF  1               CLR1:
0010AF  1  99 3F 0D             STA HGRAD,Y
0010B2  1               ;10B2:88 565
0010B2  1  88                   DEY
0010B3  1               ;10B3:10 FA 566
0010B3  1  10 FA                BPL CLR1
0010B5  1               ;10B5:20 89 10 567
0010B5  1  20 89 10             JSR CTRLY
0010B8  1               ;10B8:A2 FF 568
0010B8  1  A2 FF                LDX #<PATTERN
0010BA  1               ;10BA:A9 08 569
0010BA  1  A9 08                LDA #>PATTERN
0010BC  1               ;10BC:8E 45 OD 570
0010BC  1  8E 45 0D             STX PATBASE
0010BF  1               ;10BF:8D 46 OD 571
0010BF  1  8D 46 0D             STA PATBASE+1
0010C2  1               ;10C2:A9 20 572
0010C2  1  A9 20                LDA #$20        ;PAGE1
0010C4  1               ;10C4:8D 3F OD 573
0010C4  1  8D 3F 0D             STA HGRAD
0010C7  1               ;10C7:60 574
0010C7  1  60                   RTS
0010C8  1               
0010C8  1               ;10C8: 576 ;*******************************************
0010C8  1               ;10C8: 577 ;
0010C8  1               ;10C8: 578 ; GET PATTERNS OF CHR. IN ACC.
0010C8  1               ;10C8: 579 ; IF CODE=NX;PATTERN.L+X+B,
0010C8  1               ;10C8: 580 ;             PATTERN.H+INT(N/2)
0010C8  1               ;10C8: 581 ;            & DISPLAY THEM
0010C8  1               ;10C8: 582 ;**************************************
0010C8  1               
0010C8  1               ;10C8:0A 584
0010C8  1               NORDISP:
0010C8  1  0A                   ASL A
0010C9  1               ;10C9:26 EF 585
0010C9  1  26 EF                ROL PATLOC+1
0010CB  1               ;10CB:0A 586
0010CB  1  0A                   ASL A
0010CC  1               ;10CC:26 EF 587
0010CC  1  26 EF                ROL PATLOC+1
0010CE  1               ;10CE:0A 588
0010CE  1  0A                   ASL A
0010CF  1               ;10CF:26 EF 589
0010CF  1  26 EF                ROL PATLOC+1
0010D1  1               ;10D1:18 590 CLC
0010D1  1               ;10D2:6D 45 OD 591
0010D1  1  6D 45 0D             ADC PATBASE
0010D4  1               ;10D5:85 EE 592
0010D4  1  85 EE                STA PATLOC
0010D6  1               ;10D7:A5 EF 593
0010D6  1  A5 EF                LDA PATLOC+1
0010D8  1               ;10D9:29 07 594
0010D8  1  29 07                AND #7
0010DA  1               ;10DB:6D 46 OD 595
0010DA  1  6D 46 0D             ADC PATBASE+1
0010DD  1               ;10DE:85 EF 596
0010DD  1  85 EF                STA PATLOC+1
0010DF  1               
0010DF  1               ;10E0:20 00 12 598
0010DF  1  20 FF 11             JSR BASCALC1
0010E2  1               ;10E3:65 24 599
0010E2  1  65 24                ADC CH
0010E4  1               ;10E5:85 2A 600
0010E4  1  85 2A                STA BAS2L
0010E6  1               ;10E7:85 EC 601
0010E6  1  85 EC                STA PLOC
0010E8  1               ;10E9:A5 2B 602
0010E8  1  A5 2B                LDA BAS2L+1
0010EA  1               ;10EB:4D 42 OD 603
0010EA  1  4D 42 0D             EOR ADRFL
0010ED  1               ;10EE:85 ED 604
0010ED  1  85 ED                STA PLOC+1
0010EF  1               ;10F0:A4 24 605
0010EF  1  A4 24                LDY CH
0010F1  1               ;10F2:A5 FF 606
0010F1  1  A5 FF                LDA SACC
0010F3  1               ;10F4:91 28 607
0010F3  1  91 28                STA (BASL),Y
0010F5  1               ;10F6:A2 00 608
0010F5  1  A2 00                LDX #0
0010F7  1               
0010F7  1               ;10F8:A0 00 609
0010F7  1  A0 00                LDY #0
0010F9  1               ;10FA:B1 EE 610
0010F9  1               DISPCON:
0010F9  1  B1 EE                LDA (PATLOC),Y  ;GET PATTERN
0010FB  1               ;10FC:4D 40 OD 611
0010FB  1  4D 40 0D             EOR INVFLG
0010FE  1               ;10FF:2C 41 OD 612
0010FE  1  2C 41 0D             BIT POSFL
001101  1               ;1102:10 11 613
001101  1  10 11                BPL NO7
001103  1               ;1104:70 OD 614
001103  1  70 0D                BVS DOEOR
001105  1               ;1106:2C 40 OD 615
001105  1  2C 40 0D             BIT INVFLG
001108  1               ;1109:70 04 616
001108  1  70 04                BVS DOAND
00110A  1               ;110B:01 EC 617
00110A  1  01 EC                ORA (PLOC,X)
00110C  1               ;110D:50 06 618
00110C  1  50 06                BVC NO7         ;GOTO
00110E  1               ;110F:21 EC 619
00110E  1               DOAND:
00110E  1  21 EC                AND (PLOC,X)
001110  1               ;1111:70 02 620
001110  1  70 02                BVS NO7
001112  1               ;1113:41 EC 621
001112  1               DOEOR:
001112  1  41 EC                EOR (PLOC,X)
001114  1               ;1115:81 2A 622
001114  1               NO7:
001114  1  81 2A                STA (BAS2L,X)
001116  1               ;1117:08 623
001116  1  C8                   INY
001117  1               ;1118:CO 08 624
001117  1  C0 08                CPY #8          ;8 SCAN LINE ALL?
001119  1               ;111A:BO OD 625
001119  1  B0 0D                BCS RTS4
00111B  1               ;111C:A5 2B 626
00111B  1  A5 2B                LDA BAS2L+1
00111D  1               ;111E:69 04 627
00111D  1  69 04                ADC #4          ;ADDR+$400
00111F  1               ;1120:85 2B 628
00111F  1  85 2B                STA BAS2L+1
001121  1               ;1122:4D 42 OD 629
001121  1  4D 42 0D             EOR ADRFL
001124  1               ;1125:85 ED 630
001124  1  85 ED                STA PLOC+1
001126  1               ;1127:90 D1 631
001126  1  90 D1                BCC DISPCON
001128  1               ;1129:60 632
001128  1               RTS4:
001128  1  60                   RTS
001129  1               
001129  1               ;112A:20 C8 10 634
001129  1               NORMOUT:
001129  1  20 C8 10             JSR NORDISP     ;DISP. A CHR.
00112C  1               ;112D:E6 24 635
00112C  1  E6 24                INC CH          ;CH=CH+1
00112E  1               ;112F:A5 24 636
00112E  1  A5 24                LDA CH
001130  1               ;1131:C5 21 637
001130  1  C5 21                CMP WNDWDTH
001132  1               ;1133:90 20 638
001132  1  90 20                BCC RTS5
001134  1               ;1135:A9 00 639
001134  1               SCROL1:
001134  1  A9 00                LDA #0
001136  1               ;1137:85 24 640
001136  1  85 24                STA CH
001138  1               ;1139:E6 25 641
001138  1               CTRLJ:
001138  1  E6 25                INC CV          ;CV=CV+1
00113A  1               ;113B:A5 25 642
00113A  1  A5 25                LDA CV          ;CHECK IF BOTTOM!
00113C  1               ;113D:C5 23 643
00113C  1  C5 23                CMP WNDBTM
00113E  1               ;113F:90 11 644
00113E  1  90 11                BCC NOVER
001140  1               ;1141:2C 43 OD 645
001140  1  2C 43 0D             BIT AUTO        ;AUTO HOME FLAG?
001143  1               ;1144:70 08 646
001143  1  70 08                BVS AUTDON
001145  1               ;1146:C6 25 647
001145  1  C6 25                DEC CV
001147  1               ;1148:20 56 11 648
001147  1  20 55 11             JSR HSCROL
00114A  1               ;114B:4C 70 FC 649
00114A  1  4C 70 FC             JMP SCROL
00114D  1               
00114D  1               ;114E:A5 22 651
00114D  1               AUTDON:
00114D  1  A5 22                LDA WNDTOP
00114F  1               ;1150:85 25 652
00114F  1  85 25                STA CV
001151  1               ;1152:20 24 FC 653
001151  1               NOVER:
001151  1  20 24 FC             JSR VTABZ
001154  1               ;1155:60 654
001154  1               RTS5:
001154  1  60                   RTS
001155  1               
001155  1               ;1156:A5 22 656
001155  1               HSCROL:
001155  1  A5 22                LDA WNDTOP      ;FROM TOP!
001157  1               ;1158:48 657
001157  1  48                   PHA
001158  1               ;1159:20 02 12 658
001158  1  20 01 12             JSR BASCALC
00115B  1               
00115B  1               ;115C:A5 2A 659
00115B  1               LOOP1:
00115B  1  A5 2A                LDA BAS2L
00115D  1               ;115E:85 EC 660
00115D  1  85 EC                STA PLOC        ;MAKE DESTINE.
00115F  1               ;1160:A5 2B 661
00115F  1  A5 2B                LDA BAS2L+1
001161  1               ;1162:29 E3 662
001161  1  29 E3                AND #$E3
001163  1               ;1164:85 ED 663
001163  1  85 ED                STA PLOC+1
001165  1               ;1166:68 664
001165  1  68                   PLA
001166  1               ;1167:18 665
001166  1  18                   CLC
001167  1               ;1168:69 01 666
001167  1  69 01                ADC #1          ;NEXT
001169  1               ;116A:C5 23 667
001169  1  C5 23                CMP WNDBTM
00116B  1               ;116C:B0 22 668
00116B  1  B0 22                BCS UPALL       ;ALL EXCEPT BOTTOM?
00116D  1               ;116E:48 669
00116D  1  48                   PHA             ;SAVE FOR NEXT SCROL
00116E  1               ;116F:20 02 12 670
00116E  1  20 01 12             JSR BASCALC     ;MAKE SOURCE
001171  1               ;1172:A2 07 671
001171  1  A2 07                LDX #7          ;8 TIMES
001173  1               ;1174:A4 21 672
001173  1               LOOP2:
001173  1  A4 21                LDY WNDWDTH
001175  1               ;1176:88 673
001175  1  88                   DEY
001176  1               ;1177:B1 2A 674
001176  1               SCRL:
001176  1  B1 2A                LDA (BAS2L),Y   ;FROM
001178  1               ;1179:91 EC 675
001178  1  91 EC                STA (PLOC),Y    ;TO
00117A  1               ;117B:88 676
00117A  1  88                   DEY
00117B  1               ;117C:10 F9 677
00117B  1  10 F9                BPL SCRL
00117D  1               ;117E:CA 678
00117D  1  CA                   DEX
00117E  1               ;117F:30 DB 679
00117E  1  30 DB                BMI LOOP1
001180  1               ;1181:18 680
001180  1  18                   CLC
001181  1               ;1182:A5 2B 681
001181  1  A5 2B                LDA BAS2L+1
001183  1               ;1184:69 04 682
001183  1  69 04                ADC #4          ;NEXT SCAN LINE ADDR
001185  1               ;1186:85 2B 683
001185  1  85 2B                STA BAS2L+1
001187  1               ;1188:A5 ED 684
001187  1  A5 ED                LDA PLOC+1
001189  1               ;118A:69 04 685
001189  1  69 04                ADC #4          ;NEXT SCAN LINE
00118B  1               ;118C:85 ED 686
00118B  1  85 ED                STA PLOC+1
00118D  1               ;118E:DO E4 687
00118D  1  D0 E4                BNE LOOP2       ;GOTO
00118F  1               ;1190:AD 41 OD 688
00118F  1               UPALL:
00118F  1  AD 41 0D             LDA POSFL       ;BOTTOM LINE CLEA
001192  1               ;1193:48 689
001192  1  48                   PHA
001193  1               ;1194:A5 23 690
001193  1  A5 23                LDA WNDBTM
001195  1               ;1196:E9 01 691
001195  1  E9 01                SBC #1
001197  1               ;1198:A0 00 692
001197  1  A0 00                LDY #0
001199  1               ;119A:8C 41 OD 693
001199  1  8C 41 0D             STY POSFL
00119C  1               ;119D:20 C6 11 694
00119C  1  20 C5 11             JSR HCLREOL1
00119F  1               ;11A0:68 695
00119F  1  68                   PLA
0011A0  1               ;11A1:8D 41 OD 696
0011A0  1  8D 41 0D             STA POSFL
0011A3  1               ;11A4:60 697
0011A3  1  60                   RTS
0011A4  1               
0011A4  1               ;11A5:A5 22 699
0011A4  1               HIHOME:
0011A4  1  A5 22                LDA WNDTOP      ;HI-GRAPHIC HOME
0011A6  1               ;11A7:85 25 700
0011A6  1  85 25                STA CV          ;FROM TOP
0011A8  1               ;11A9:A0 00 701
0011A8  1  A0 00                LDY #0
0011AA  1               ;11AB:84 24 702
0011AA  1  84 24                STY CH
0011AC  1               ;11AD:F0 04 703
0011AC  1  F0 04                BEQ HCLREOP1    ;GOTO
0011AE  1               ;11AF:A4 24 705
0011AE  1               HCLREOP:
0011AE  1  A4 24                LDY CH          ;CLEAR END OF PAG
0011B0  1               ;11B1:A5 25 706
0011B0  1  A5 25                LDA CV
0011B2  1               ;11B3:48 707
0011B2  1               HCLREOP1:
0011B2  1  48                   PHA
0011B3  1               ;11B4:20 C6 11 708
0011B3  1  20 C5 11             JSR HCLREOL1    ;CLEAR A LINE
0011B6  1               ;11B7:68 709
0011B6  1  68                   PLA
0011B7  1               
0011B7  1               ;11B8:18 710
0011B7  1  18                   CLC
0011B8  1               ;11B9:69 01 711
0011B8  1  69 01                ADC #1
0011BA  1               ;11BB:C5 23 712
0011BA  1  C5 23                CMP WNDBTM
0011BC  1               ;11BD:AO 00 713
0011BC  1  A0 00                LDY #0
0011BE  1               ;11BF:90 F2 714
0011BE  1  90 F2                BCC HCLREOP1
0011C0  1               ;11C1:60 715
0011C0  1  60                   RTS
0011C1  1               
0011C1  1               ;11C2:A4 24 717
0011C1  1               HCLREOL:
0011C1  1  A4 24                LDY CH          ;CLEAR END OF LINE
0011C3  1               ;11C4:A5 25 718
0011C3  1  A5 25                LDA CV
0011C5  1               ;11C6:84 EE 719
0011C5  1               HCLREOL1:
0011C5  1  84 EE                STY PATLOC
0011C7  1               ;11C8:20 02 12 720
0011C7  1  20 01 12             JSR BASCALC
0011CA  1               ;11CB:A2 07 721
0011CA  1  A2 07                LDX #7
0011CC  1               ;11CD:AD 40 OD 722
0011CC  1               LOOP3:
0011CC  1  AD 40 0D             LDA INVFLG
0011CF  1               ;11D0:2C 41 OD 723
0011CF  1  2C 41 0D             BIT POSFL
0011D2  1               ;11D3:10 15 724
0011D2  1  10 15                BPL NO8
0011D4  1               ;11D5:A5 2A 725
0011D4  1  A5 2A                LDA BAS2L
0011D6  1               ;11D7:85 EC 726
0011D6  1  85 EC                STA PLOC
0011D8  1               ;11D9:A5 2B 727
0011D8  1  A5 2B                LDA BAS2L+1
0011DA  1               ;11DB:4D 42 OD 728
0011DA  1  4D 42 0D             EOR ADRFL
0011DD  1               ;11DE:85 ED 729
0011DD  1  85 ED                STA PLOC+1
0011DF  1               ;11E0:B1 EC 730
0011DF  1  B1 EC                LDA (PLOC),Y
0011E1  1               ;11E2:2C 41 OD 731
0011E1  1  2C 41 0D             BIT POSFL
0011E4  1               ;11E5:50 03 732
0011E4  1  50 03                BVC NO8
0011E6  1               ;11E7:4D 40 OD 733
0011E6  1  4D 40 0D             EOR INVFLG
0011E9  1               ;11EA:91 2A 734
0011E9  1               NO8:
0011E9  1  91 2A                STA (BAS2L),Y
0011EB  1               ;11EC:C8 735
0011EB  1  C8                   INY
0011EC  1               ;11ED:C4 21 736
0011EC  1  C4 21                CPY WNDWDTH
0011EE  1               ;11EF:90 DC 737
0011EE  1  90 DC                BCC LOOP3
0011F0  1               ;11F1:CA 738
0011F0  1  CA                   DEX
0011F1  1               ;11F2:30 0B 739
0011F1  1  30 0B                BMI RTS7
0011F3  1               ;11F4:A4 EE 740
0011F3  1  A4 EE                LDY PATLOC
0011F5  1               ;11F6:A5 2B 741
0011F5  1  A5 2B                LDA BAS2L+1
0011F7  1               ;11F8:18 742
0011F7  1  18                   CLC
0011F8  1               ;11F9:69 04 743
0011F8  1  69 04                ADC #4
0011FA  1               ;11FB:85 2B 744
0011FA  1  85 2B                STA BAS2L+1
0011FC  1               ;11FD:DO CE 745
0011FC  1  D0 CE                BNE LOOP3
0011FE  1               ;11FF:60 746
0011FE  1               RTS7:
0011FE  1  60                   RTS
0011FF  1               
0011FF  1               ;1200:A5 25 748
0011FF  1               BASCALC1:
0011FF  1  A5 25                LDA CV
001201  1               
001201  1               ;1202: 750 *****************************************************
001201  1               ;1202: 751 *
001201  1               ;1202: 752 * BASE CALCULATION:CV IN ACC.->BAS2L, +1
001201  1               ;1202: 753 *
001201  1               ;1202: 754 *****************************************************
001201  1               
001201  1               ;1202:4A 756
001201  1               BASCALC:
001201  1  4A                   LSR A           ;/2
001202  1               ;1203:AA 757
001202  1  AA                   TAX
001203  1               ;1204:29 03 758
001203  1  29 03                AND #3
001205  1               ;1206:0D 3F OD 759
001205  1  0D 3F 0D             ORA HGRAD
001208  1               ;1209:85 2B 760
001208  1  85 2B                STA BAS2L+1
00120A  1               ;120B:BD 14 12 761
00120A  1  BD 13 12             LDA BASETBL,X
00120D  1               ;120E:6A 762
00120D  1  6A                   ROR A
00120E  1               ;120F:65 20 763
00120E  1  65 20                ADC WNDLFT
001210  1               ;1211:85 2A 764
001210  1  85 2A                STA BAS2L
001212  1               ;1213:60 765
001212  1  60                   RTS
001213  1               
001213  1               ;1214:00 767
001213  1               BASETBL:
001213  1  00                   .byte $00         ;FOR 0,1
001214  1               ;1215:00 768
001214  1  00                   .byte $00         ;FOR 2,3
001215  1               ;1216:00 769
001215  1  00                   .byte $00         ;FOR 4,5
001216  1               ;1217:00 770
001216  1  00                   .byte $00         ;FOR 6, 7
001217  1               ;1218:50 771
001217  1  50                   .byte $50         ;FOR 8,9
001218  1               ;1219:50 772
001218  1  50                   .byte $50         ;FOR a,b
001219  1               ;121A:50 773
001219  1  50                   .byte $50         ;FOR c,d
00121A  1               ;121B:50 774
00121A  1  50                   .byte $50         ;FOR E,F
00121B  1               ;121C:A0 775
00121B  1  A0                   .byte $A0         ;FOR 10,11
00121C  1               ;121D:AO 776
00121C  1  A0                   .byte $A0         ;FOR 12,13
00121D  1               ;121E:A0 777
00121D  1  A0                   .byte $A0         ;FOR 14,15
00121E  1               ;121F:A0 778
00121E  1  A0                   .byte $A0         ;FOR 16,17
00121F  1               
00121F  1               ;1220:38 780
00121F  1               KOROUT:
00121F  1  38                   SEC
001220  1               ;1221:E9 20 781
001220  1  E9 20                SBC #$20        ;SUBTRACT BASE CODE
001222  1               ;1223:AA 782
001222  1  AA                   TAX
001223  1               ;1224:BD DB 12 783
001223  1  BD DA 12             LDA CONVTBL,X
001226  1               ;1227:85 EF 784
001226  1  85 EF                STA PATLOC+1
001228  1               ;1229:BD 9B 12 785
001228  1  BD 9A 12             LDA TYPETBL,X   ;GET CHR.TYPE
00122B  1               ;122C:85 EE 786
00122B  1  85 EE                STA PATLOC
00122D  1               ;122E:20 57 0E 787
00122D  1  20 57 0E             JSR TPSAVE
001230  1               ;1231:AD 52 12 788
001230  1  AD 51 12             LDA STATE
001233  1               ;1234:0A 789
001233  1  0A                   ASL A
001234  1               ;1235:0A 790
001234  1  0A                   ASL A
001235  1               ;1236:0A 791
001235  1  0A                   ASL A           ;*8
001236  1               ;1237:18 792
001236  1  18                   CLC
001237  1               ;1238:65 EE 793
001237  1  65 EE                ADC PATLOC
001239  1               ;123A:AA 794
001239  1  AA                   TAX
00123A  1               ;123B:BD 54 12 795
00123A  1  BD 53 12             LDA PROCS+1,X
00123D  1               ;123E:48 796
00123D  1  48                   PHA
00123E  1               ;123F:BD 53 12 797
00123E  1  BD 52 12             LDA PROCS,X
001241  1               ;1242:48 798
001241  1  48                   PHA
001242  1               ;1243:A5 EF 799
001242  1  A5 EF                LDA PATLOC+1    ;ACC.=CODE
001244  1               ;1245:60 800
001244  1  60                   RTS
001245  1               
001245  1               ;1246: 802
001245  1               TEMPCV:
001245  1  xx                   .res 1
001246  1               ;1247: 803
001246  1               TEMPCH:
001246  1  xx                   .res 1
001247  1               ;1248:00 804
001247  1  00                   .byte $00
001248  1               ;1249:00 805
001248  1  00                   .byte $00
001249  1               ;124A:00 806
001249  1               P1239:
001249  1  00                   .byte $00
00124A  1               ;124B:00 807
00124A  1               P123A:
00124A  1  00                   .byte $00
00124B  1               ;124C:00 808
00124B  1               P123B:
00124B  1  00                   .byte $00
00124C  1               
00124C  1               ;124D:00 809
00124C  1               P123C:
00124C  1  00                   .byte $00
00124D  1               ;124E:00 810
00124D  1               P123D:
00124D  1  00                   .byte $00
00124E  1               ;124F:00 811
00124E  1               P123E:
00124E  1  00                   .byte $00
00124F  1               ;1250:00 812
00124F  1               P123F:
00124F  1  00                   .byte $00
001250  1               ;1251:00 813
001250  1               P1240:
001250  1  00                   .byte $00
001251  1               ;1252:00 814
001251  1               STATE:
001251  1  00                   .byte $00         ;AUTOMATA STATE
001252  1               
001252  1               ;1253: 816 ***********************
001252  1               ;1253: 817 *
001252  1               ;1253: 818 * KOREAN PROCESSING PROCEDURE
001252  1               ;1253: 819 * ON CONSONANT
001252  1               ;1253: 820 * ON VERT.VOWEL
001252  1               ;1253: 821 * ON HOR.VOWEL
001252  1               ;1253: 822 * ON SYMBOL
001252  1               ;1253: 823 *
001252  1               ;1253: 824 **************************
001252  1               
001252  1               ;1253:2E 13 826
001252  1               PROCS:
001252  1  2D 13                .word ST0C-1
001254  1               ;1255:36 13 827
001254  1  35 13                .word ST0VV-1
001256  1               ;1257:3C 13 828
001256  1  3B 13                .word ST0HV-1
001258  1               ;1259:42 13 829
001258  1  41 13                .word ST0S-1
00125A  1               
00125A  1               ;125B:4D 13 831
00125A  1  4C 13                .word ST1CS-1
00125C  1               ;125D:53 13 832
00125C  1  52 13                .word ST1VV-1
00125E  1               ;125F:5B 13 833
00125E  1  5A 13                .word ST1HV-1
001260  1               ;1261:40 13 834
001260  1  4C 13                .word ST1CS-1
001262  1               
001262  1               ;1263:63 13 836
001262  1  62 13                .word ST25C-1
001264  1               ;1265:6B 13 837
001264  1  6A 13                .word ST25VV-1
001266  1               ;1267:71 13 838
001266  1  70 13                .word ST2HV-1
001268  1               ;1269:79 13 839
001268  1  78 13                .word ST25S-1
00126A  1               
00126A  1               ;126B:87 13 841
00126A  1  86 13                .word ST3C-1
00126C  1               ;126D:8F 13 842
00126C  1  8E 13                .word ST3VV-1
00126E  1               ;126F:4D 13 843
00126E  1  4C 13                .word ST1CS-1
001270  1               ;1271:97 13 844
001270  1  96 13                .word ST3S-1
001272  1               
001272  1               ;1273:A2 13 846
001272  1  A1 13                .word ST4C-1
001274  1               ;1275:B8 13 847
001274  1  B7 13                .word ST47VV-1
001276  1               ;1277:C3 13 848
001276  1  C2 13                .word ST47HV-1
001278  1               ;1279:CE 13 849
001278  1  CD 13                .word ST4S-1
00127A  1               
00127A  1               ;127B:63 13 851
00127A  1  62 13                .word ST25C-1
00127C  1               ;127D:6B 13 852
00127C  1  6A 13                .word ST25VV-1
00127E  1               ;127F:6B 13 853
00127E  1  6A 13                .word ST25VV-1
001280  1               ;1281:79 13 854
001280  1  78 13                .word ST25S-1
001282  1               
001282  1               ;1283:DF 13 856
001282  1  DE 13                .word ST6C-1
001284  1               ;1285:F2 13 857
001284  1  F1 13                .word ST68VV-1
001286  1               ;1287:FD 13 858
001286  1  FC 13                .word ST68HV-1
001288  1               ;1289:08 14 859
001288  1  07 14                .word ST6S-1
00128A  1               
00128A  1               ;128B:16 14 861
00128A  1  15 14                .word ST7C-1
00128C  1               ;128D:B8 13 862
00128C  1  B7 13                .word ST47VV-1
00128E  1               ;128F:C3 13 863
00128E  1  C2 13                .word ST47HV-1
001290  1               ;1291:29 14 864
001290  1  28 14                .word ST7S-1
001292  1               
001292  1               ;1293:3C 14 866
001292  1  3B 14                .word ST8C-1
001294  1               ;1295:F2 13 867
001294  1  F1 13                .word ST68VV-1
001296  1               ;1297:FD 13 868
001296  1  FC 13                .word ST68HV-1
001298  1               ;1299:34 14 869
001298  1  33 14                .word ST8S-1
00129A  1               
00129A  1               ;129B: 871 ******************************
00129A  1               ;129B: 872 *
00129A  1               ;129B: 873 * CHR.TYPE TABLE: (0):CONSONANT
00129A  1               ;129B: 874 * (2) : VERT.VOWEL
00129A  1               ;129B: 875 * (4) :HOR.VOWEL
00129A  1               ;129B: 876 * (6):SYMBOL,NUMERICS
00129A  1               ;129B: 877 *
00129A  1               ;129B: 878 ****************************
00129A  1               
00129A  1               ;129B:06 880
00129A  1               TYPETBL:
00129A  1  06                   .byte $06         ;SPC.
00129B  1               ;129C:06 881
00129B  1  06                   .byte $06         ;!
00129C  1               ;129D:06 882
00129C  1  06                   .byte $06         ;"
00129D  1               ;129E:06 883
00129D  1  06                   .byte $06         ;#
00129E  1               ;129F:06 884
00129E  1  06                   .byte $06         ;$
00129F  1               ;12AO:06 885
00129F  1  06                   .byte $06         ;%
0012A0  1               ;12A1:06 886
0012A0  1  06                   .byte $06         ;&
0012A1  1               ;12A2:06 887
0012A1  1  06                   .byte $06         ;'
0012A2  1               ;12A3:06 888
0012A2  1  06                   .byte $06         ;{
0012A3  1               ;12A4:06 889
0012A3  1  06                   .byte $06         ;}
0012A4  1               ;12A5:00 890
0012A4  1  00                   .byte $00         ;+(DBL.CON.1)
0012A5  1               ;12A6:02 891
0012A5  1  02                   .byte $02         ;+(K.V.YE)
0012A6  1               ;12A7:06 892
0012A6  1  06                   .byte $06         ;,
0012A7  1               ;12A8:00 893
0012A7  1  00                   .byte $00         ;-(DBL.CON.2)
0012A8  1               ;12A9:06 894
0012A8  1  06                   .byte $06         ;.
0012A9  1               ;12AA:06 895
0012A9  1  06                   .byte $06         ;/
0012AA  1               ;12AB:06 06 06 896
0012AA  1  06 06 06 06          .byte $06,$06,$06,$06,$06 ;0,1,2,3,4
0012AE  1  06           
0012AF  1               ;12AE:06 06
0012AF  1               ;12B0:06 06 06 897
0012AF  1  06 06 06 06          .byte $06,$06,$06,$06,$06 ;5,6,7,8,9
0012B3  1  06           
0012B4  1               ;12B3:06 06
0012B4  1               ;12B5:06 898
0012B4  1  06                   .byte $06         ;:
0012B5  1               ;12B6:02 899
0012B5  1  02                   .byte $02         ;;(K.V.YAE)
0012B6  1               ;12B7:00 900
0012B6  1  00                   .byte $00         ;<(DBL.CON.3)
0012B7  1               ;12B8:00 901
0012B7  1  00                   .byte $00         ;=(DBL.CON.4)
0012B8  1               ;12B9:00 902
0012B8  1  00                   .byte $00         ;>(DBL.CON.5)
0012B9  1               ;12BA:06 06 903
0012B9  1  06 06                .byte $06,$06 ;?,@
0012BB  1               ;12BC:00 904
0012BB  1  00                   .byte $00         ;A(CON.)
0012BC  1               ;12BD:04 905
0012BC  1  04                   .byte $04         ;B(K.V.YOO)
0012BD  1               ;12BE:00 906
0012BD  1  00                   .byte $00         ;C(CON.)
0012BE  1               ;12BF:00 907
0012BE  1  00                   .byte $00         ;D(CON.)
0012BF  1               ;12C0:00 908
0012BF  1  00                   .byte $00         ;E(CON.)
0012C0  1               ;12C1:00 909
0012C0  1  00                   .byte $00         ;F(CON.)
0012C1  1               ;12C2:00 910
0012C1  1  00                   .byte $00         ;G(CON.)
0012C2  1               ;12C3:04 911
0012C2  1  04                   .byte $04         ;H(K.V.O)
0012C3  1               ;12C4:02 912
0012C3  1  02                   .byte $02         ;I(K.V.YA)
0012C4  1               ;12C5:02 913
0012C4  1  02                   .byte $02         ;J(K.V.EO)
0012C5  1               ;12C6:02 914
0012C5  1  02                   .byte $02         ;K(K.V.A)
0012C6  1               ;12C7:02 915
0012C6  1  02                   .byte $02         ;L(K.V.YEE)
0012C7  1               ;12C8:04 916
0012C7  1  04                   .byte $04         ;M(K.V.EU)
0012C8  1               ;12C9:04 917
0012C8  1  04                   .byte $04         ;N(K.V.WOO)
0012C9  1               ;12CA:02 918
0012C9  1  02                   .byte $02         ;0(K.V.AE)
0012CA  1               ;12CB:02 919
0012CA  1  02                   .byte $02         ;P(K. V.E)
0012CB  1               ;12CC:00 920
0012CB  1  00                   .byte $00         ;Q(CON.)
0012CC  1               ;12CD:00 921
0012CC  1  00                   .byte $00         ;R(CON.)
0012CD  1               ;12CE:00 922
0012CD  1  00                   .byte $00         ;S(CON.)
0012CE  1               ;12CF:00 923
0012CE  1  00                   .byte $00         ;T(CON.)
0012CF  1               ;12D0:02 924
0012CF  1  02                   .byte $02         ;U(K.V.YEO)
0012D0  1               ;12D1:00 925
0012D0  1  00                   .byte $00         ;V(CON.)
0012D1  1               ;12D2:00 926
0012D1  1  00                   .byte $00         ;W(CON.)
0012D2  1               ;12D3:00 927
0012D2  1  00                   .byte $00         ;X(CON.)
0012D3  1               ;12D4:04 928
0012D3  1  04                   .byte $04         ;Y(K.V.YO)
0012D4  1               ;12D5:00 929
0012D4  1  00                   .byte $00         ;Z(CON.)
0012D5  1               ;12D6:06 930
0012D5  1  06                   .byte $06         ;LEFT SQB
0012D6  1               ;1207:06 931
0012D6  1  06                   .byte $06         ;INV SLSH
0012D7  1               ;12D8:06 932
0012D7  1  06                   .byte $06         ;RIGHT SQB
0012D8  1               ;12D9:06 933
0012D8  1  06                   .byte $06         ;^
0012D9  1               ;12DA:06 934
0012D9  1  06                   .byte $06
0012DA  1               
0012DA  1               
0012DA  1               ;12DB: 936 ************************
0012DA  1               ;12DB: 937 *
0012DA  1               ;12DB: 938 * CODE CONVERSION TABLE
0012DA  1               ;12DB: 939 *
0012DA  1               ;12DB: 940 ************************
0012DA  1               
0012DA  1               ;12DB:20 21 22 942
0012DA  1               CONVTBL:
0012DA  1  20 21 22 23          .byte $20,$21,$22,$23
0012DE  1               ;12DE:23
0012DE  1               ;12DF:24 25 26 943
0012DE  1  24 25 26 27          .byte $24,$25,$26,$27
0012E2  1               ;12E2:27
0012E2  1               ;12E3:28 29 66 944
0012E2  1  28 29 66 78          .byte $28,$29,$66,$78
0012E6  1               ;12E6:78
0012E6  1               ;12E7:2C 5F 2E 945
0012E6  1  2C 5F 2E 2F          .byte $2C,$5F,$2E,$2F
0012EA  1               ;12EA:2F
0012EA  1               ;12EB:30 31 32 946
0012EA  1  30 31 32 33          .byte $30,$31,$32,$33
0012EE  1               ;12EE:33
0012EE  1               ;12EF:34 35 36 947
0012EE  1  34 35 36 37          .byte $34,$35,$36,$37
0012F2  1               ;12F2:37
0012F2  1               ;12F3:38 39 5C 948
0012F2  1  38 39 5C 74          .byte $38,$39,$5C,$74
0012F6  1               ;12F6:74
0012F6  1               ;12F7:68 62 6B 949
0012F6  1  68 62 6B 3F          .byte $68,$62,$6B,$3F
0012FA  1               ;12FA:3F
0012FA  1               ;12FB:40 64 7C 950
0012FA  1  40 64 7C 6C          .byte $40,$64,$7C,$6C
0012FE  1               ;12FE:6C
0012FE  1               ;12FF:69 61 63 951
0012FE  1  69 61 63 70          .byte $69,$61,$63,$70
001302  1               ;1302:70
001302  1               ;1303:79 73 75 952
001302  1  79 73 75 71          .byte $79,$73,$75,$71
001306  1               ;1306:71
001306  1               ;1307:7E 7D 7B 953
001306  1  7E 7D 7B 72          .byte $7E,$7D,$7B,$72
00130A  1               ;130A:72
00130A  1               ;130B:76 65 5E 954
00130A  1  76 65 5E 60          .byte $76,$65,$5E,$60
00130E  1               ;130E:60
00130E  1               ;130F:67 77 6F 955
00130E  1  67 77 6F 6A          .byte $67,$77,$6F,$6A
001312  1               ;1312:6A
001312  1               ;1313:6E 7A 6D 956
001312  1  6E 7A 6D 5B          .byte $6E,$7A,$6D,$5B
001316  1               ;1316:5B
001316  1               ;1317:5C 5D 5E 957
001316  1  5C 5D 5E 5F          .byte $5C,$5D,$5E,$5F
00131A  1               ;131A:5F
00131A  1               
00131A  1               
00131A  1               ;131B: 959 *******************************
00131A  1               ;131B: 960 * COMPLEX CONSONANT I.D. LISTS
00131A  1               ;131B: 961 * IF 0,CANNOT BE COMBINED!
00131A  1               ;131B: 962 * IF NOT 0,ENTRY IS NEW CODE
00131A  1               ;131B: 963 *
00131A  1               ;131B: 964 *******************************
00131A  1               
00131A  1               ;131B:00 966
00131A  1               CPLXCN:
00131A  1  00                   .byte $00
00131B  1               ;131C:12 967
00131B  1  12                   .byte $12
00131C  1               ;131D:00 968
00131C  1  00                   .byte $00
00131D  1               ;131E:00 969
00131D  1  00                   .byte $00
00131E  1               ;131F:00 970
00131E  1  00                   .byte $00
00131F  1               ;1320:0F 971
00131F  1  0F                   .byte $0F
001320  1               ;1321:00 972
001320  1  00                   .byte $00
001321  1               ;1322:13 973
001321  1  13                   .byte $13
001322  1               ;1323:14 974
001322  1  14                   .byte $14
001323  1               ;1324:10 975
001323  1  10                   .byte $10
001324  1               ;1325:15 976
001324  1  15                   .byte $15
001325  1               ;1326:00 977
001325  1  00                   .byte $00
001326  1               ;1327:19 978
001326  1  19                   .byte $19
001327  1               ;1328:00 979
001327  1  00                   .byte $00
001328  1               ;1329:00 980
001328  1  00                   .byte $00
001329  1               ;132A:00 981
001329  1  00                   .byte $00
00132A  1               ;132B:11 982
00132A  1  11                   .byte $11
00132B  1               ;132C:16 983
00132B  1  16                   .byte $16
00132C  1               ;132D:17 984
00132C  1  17                   .byte $17
00132D  1               ;132E:18 985
00132D  1  18                   .byte $18
00132E  1               
00132E  1               
00132E  1               ;132F:20 4E 14 987
00132E  1               ST0C:
00132E  1  20 4D 14             JSR WASIN1      ;CON IN ACC.OUT
001331  1               ;1332:A9 01 988
001331  1  A9 01                LDA #1          ;NEXT STATE
001333  1               ;1334:4C 4A 14 989
001333  1  4C 49 14             JMP CONTPRO
001336  1               
001336  1               ;1337:20 FF 14 991
001336  1               ST0VV:
001336  1  20 FE 14             JSR VVDSP       ;V.V.DISP.
001339  1               ;133A:4C E8 15 992
001339  1  4C E7 15             JMP ESFTFB1     ;BEEP&CLEAR COND.BF.ALL!
00133C  1               
00133C  1               ;133D:20 4E 14 994
00133C  1               ST0HV:
00133C  1  20 4D 14             JSR WASIN1      ;DISP.H.V AT UPPER
00133F  1               
00133F  1               ;1340:4C EB 15 995
00133F  1  4C E7 15             JMP ESFTFB1     ;BEEP&CLEAR COND.BF. ALL!
001342  1               ;1343:20 4E 14 997
001342  1               ST0S:
001342  1  20 4D 14             JSR WASIN1      ;CV,CH<-ACC:CV+1, CH<-BLANK
001345  1               ;1346:20 6D 15 998
001345  1  20 6C 15             JSR SFTFB1      ;SHIFT COND.BF. 1 TIME
001348  1               ;1349:A9 00 999
001348  1  A9 00                LDA #0          ;NEXT STATE
00134A  1               ;134B:4C 4A 14 1000
00134A  1  4C 49 14             JMP CONTPRO
00134D  1               ;134E:20 59 14 1002
00134D  1               ST1CS:
00134D  1  20 58 14             JSR WASIN6      ;DISP.IT!
001350  1               ;1351:4C F1 15 1003
001350  1  4C F0 15             JMP ECONDCL1    ;BEEP&CLEAR COND. BF.ALL!
001353  1               
001353  1               ;1354:20 0A 15 1005
001353  1               ST1VV:
001353  1  20 09 15             JSR DISPVV      ;DISP V.V
001356  1               ;1357:A9 02 1006
001356  1  A9 02                LDA #2          ;NEXT STATE
001358  1               ;1359:4C 4A 14 1007
001358  1  4C 49 14             JMP CONTPRO
00135B  1               
00135B  1               ;135C:20 63 14 1009
00135B  1               ST1HV:
00135B  1  20 62 14             JSR WASIN3      ;H.V DISP. AT LOW C.V POS
00135E  1               ;135F:A9 03 1010
00135E  1  A9 03                LDA #3          ;NEXT STATE
001360  1               ;1361:4C 4A 14 1011
001360  1  4C 49 14             JMP CONTPRO
001363  1               
001363  1               ;1364:20 77 14 1013
001363  1               ST25C:
001363  1  20 76 14             JSR WASIN4      ;CHECK CH & DISP.C
001366  1               ;1367:A9 04 1014
001366  1  A9 04                LDA #4          ;NEXT STATE
001368  1               ;1369:4C 4A 14 1015
001368  1  4C 49 14             JMP CONTPRO
00136B  1               
00136B  1               ;136C:20 15 15 1017
00136B  1               ST25VV:
00136B  1  20 14 15             JSR DISPVV1     ;V.V DISP.
00136E  1               ;136F:4C E5 15 1018
00136E  1  4C E4 15             JMP ESFTFB3     ;BEEP&CLEAR
001371  1               
001371  1               ;1372:20 63 14 1020
001371  1               ST2HV:
001371  1  20 62 14             JSR WASIN3      ;H.V DISP.
001374  1               ;1375:A9 05 1021
001374  1  A9 05                LDA #5          ;NEXT STATE
001376  1               ;1377:4C 4A 14 1022
001376  1  4C 49 14             JMP CONTPRO
001379  1               
001379  1               ;137A:20 77 14 1024
001379  1               ST25S:
001379  1  20 76 14             JSR WASIN4      ;DISP.SYMBOL
00137C  1               ;137D:20 AB 15 1025
00137C  1  20 AA 15             JSR SFTFB2      ;ADJUST COND.BF
00137F  1               ;1380:20 60 15 1026
00137F  1  20 6C 15             JSR SFTFB1
001382  1               ;1383:A9 00 1027
001382  1  A9 00                LDA #0          ;NEXT STATE
001384  1               ;1385:4C 4A 14 1028
001384  1  4C 49 14             JMP CONTPRO
001387  1               
001387  1               ;1388:20 59 14 1030
001387  1               ST3C:
001387  1  20 58 14             JSR WASIN6      ;C DISP! $123A <-C
00138A  1               ;138B:A9 06 1031
00138A  1  A9 06                LDA #6          ;NEXT STATE
00138C  1               ;138D:4C 4A 14 1032
00138C  1  4C 49 14             JMP CONTPRO
00138F  1               
00138F  1               ;1390:20 0A 15 1034
00138F  1               ST3VV:
00138F  1  20 09 15             JSR DISPVV      ;V.V DISP&SET $123A,C WITH V.V
001392  1               ;1393:A9 05 1035
001392  1  A9 05                LDA #5          ;NEXT STATE
001394  1               ;1395:4C 4A 14 1036
001394  1  4C 49 14             JMP CONTPRO
001397  1               
001397  1               ;1398:20 59 14 1038
001397  1               ST3S:
001397  1  20 58 14             JSR WASIN6      ;DISP SYM& SET $123A WITH SYM
00139A  1               ;139B:20 AB 15 1039
00139A  1  20 AA 15             JSR SFTFB2      ;FONT BF2 - > BF1
00139D  1               ;139E:A9 00 1040
00139D  1  A9 00                LDA #0          ;NEXT STATE
00139F  1               ;13AO:4C 4A 14 1041
00139F  1  4C 49 14             JMP CONTPRO
0013A2  1               ;13A3:48 1043
0013A2  1               ST4C:
0013A2  1  48                   PHA             ;C SAVE
0013A3  1               ;13A4:20 2B 15 1044
0013A3  1  20 2A 15             JSR MOVPOS
0013A6  1               ;13A7:20 6B 14 1045
0013A6  1  20 6A 14             JSR LOWBLK2     ;BLANK $123C
0013A9  1               ;13AA:AD 4E 12 1046
0013A9  1  AD 4D 12             LDA P123D       ;C OF 2ND - > C' OF 1ST
0013AC  1               
0013AC  1               ;13AD:20 63 14 1047
0013AC  1  20 62 14             JSR WASIN3      ;P123D -> P123B& P123B DISP.
0013AF  1               ;13B0:68 1048 i
0013AF  1  68                   PLA             ;RESTORE C
0013B0  1               ;13B1:20 77 14 1049
0013B0  1  20 76 14             JSR WASIN4      ;DISP IT!& C-> P123D
0013B3  1               ;13B4:A9 07 1050
0013B3  1  A9 07                LDA #7          ;NEXT STATE
0013B5  1               ;13B6:4C 4A 14 1051
0013B5  1  4C 49 14             JMP CONTPRO
0013B8  1               ;13B9:20 20 15 1053
0013B8  1               ST47VV:
0013B8  1  20 1F 15             JSR DISPVV2     ;V->P123E
0013BB  1               ;13BC:20 AB 15 1054
0013BB  1  20 AA 15             JSR SFTFB2      ;V.V^0F->P1240
0013BE  1               ;13BF:A9 02 1055
0013BE  1  A9 02                LDA #2          ;NEXT STATE
0013C0  1               ;13C1:4C 4A 14 1056
0013C0  1  4C 49 14             JMP CONTPRO
0013C3  1               
0013C3  1               ;13C4:20 B5 14 1058
0013C3  1               ST47HV:
0013C3  1  20 B4 14             JSR HVDSP        ;H.V - > P123F&DISP
0013C6  1               ;13C7:20 AB 15 1059
0013C6  1  20 AA 15             JSR SFTFB2      ;COND. B.F2->B.F.1& CLR BF2
0013C9  1               ;13CA:A9 03 1060
0013C9  1  A9 03                LDA #3          ;NEXT STATE
0013CB  1               ;13CC:4C 4A 14 1061
0013CB  1  4C 49 14             JMP CONTPRO
0013CE  1               ;13CF:48 1063
0013CE  1               ST4S:
0013CE  1  48                   PHA             ;SYM.SAVE
0013CF  1               ;13D0:20 2B 15 1064
0013CF  1  20 2A 15             JSR MOVPOS
0013D2  1               ;13D3:AD 4E 12 1065
0013D2  1  AD 4D 12             LDA P123D       ;LOAD C OF 2ND.
0013D5  1               ;13D6:20 63 14 1066
0013D5  1  20 62 14             JSR WASIN3      ;P123D->P123B
0013D8  1               ;13D9:20 6B 14 1067
0013D8  1  20 6A 14             JSR LOWBLK2     ;P123C<-BLANK
0013DB  1               ;13DC:68 1068
0013DB  1  68                   PLA             ;RESTORE SYM.
0013DC  1               ;13DD:4C 7A 13 1069
0013DC  1  4C 79 13             JMP ST25S       ;DISP.SYMBOL
0013DF  1               
0013DF  1               ;13E0:48 1071
0013DF  1               ST6C:
0013DF  1  48                   PHA             ;SAVE C
0013E0  1               ;13E1:20 2B 15 1072
0013E0  1  20 2A 15             JSR MOVPOS      ;P123A<-P123B+P123A
0013E3  1               ;13E4:AD 4B 12 1073
0013E3  1  AD 4A 12             LDA P123A       ;GET C OF 2ND.
0013E6  1               ;13E7:20 63 14 1074
0013E6  1  20 62 14             JSR WASIN3      ;P123A->P123B
0013E9  1               ;13EA:68 1075
0013E9  1  68                   PLA             ;RESTORE C
0013EA  1               ;13EB:20 59 14 1076
0013EA  1  20 58 14             JSR WASIN6      ;DISP.IT(ACC. ->P123A
0013ED  1               ;13EE:A9 08 1077
0013ED  1  A9 08                LDA #8          ;NEXT STATE
0013EF  1               ;13F0:4C 4A 14 1078
0013EF  1  4C 49 14             JMP CONTPRO
0013F2  1               
0013F2  1               ;13F3:20 15 15 1080
0013F2  1               ST68VV:
0013F2  1  20 14 15             JSR DISPVV1     ;V.V DISP. (V. V ->P123D,V.V^OF->P123F
0013F5  1               ;13F6:20 6D 15 1081
0013F5  1  20 6C 15             JSR SFTFB1      ;SHFT COND.BF
0013F8  1               ;13F9:A9 02 1082
0013F8  1  A9 02                LDA #2          ;NEXT STATE
0013FA  1               ;13FB:4C 4A 14 1083
0013FA  1  4C 49 14             JMP CONTPRO
0013FD  1               ;13FE:20 6D 14 1085
0013FD  1               ST68HV:
0013FD  1  20 6C 14             JSR HVDSP1      ;H. V->P123C
001400  1               ;1401:20 60 15 1086
001400  1  20 6C 15             JSR SFTFB1      ;SHFT COND.BF
001403  1               ;1404:A9 03 1087
001403  1  A9 03                LDA #3          ;NEXT STATE
001405  1               ;1406:4C 4A 14 1088
001405  1  4C 49 14             JMP CONTPRO
001408  1               ;1409:48 1090
001408  1               ST6S:
001408  1  48                   PHA             ;SAVE SYMBOL
001409  1               ;140A:20 2B 15 1091
001409  1  20 2A 15             JSR MOVPOS      ;P123A<-P123A+ P123B(H.V)
00140C  1               
00140C  1               ;140D:AD 4B 12 1092
00140C  1  AD 4A 12             LDA P123A       ;GET C OF 2ND.
00140F  1               ;1410:20 63 14 1093
00140F  1  20 62 14             JSR WASIN3      ;P123A->P123B
001412  1               ;1413:68 1094
001412  1  68                   PLA             ;RESTORE SYMBOL
001413  1               ;1414:4C 98 13 1095
001413  1  4C 97 13             JMP ST3S
001416  1               
001416  1               ;1417:48 1097
001416  1               ST7C:
001416  1  48                   PHA             ;SAVE C
001417  1               ;1418:AD 4E 12 1098
001417  1  AD 4D 12             LDA P123D       ;LOAD C OF 2ND.
00141A  1               
00141A  1               ;141B:20 6D 14 1099
00141A  1  20 6C 14             JSR HVDSP1      ;->P123C
00141D  1               ;141E:68 1100
00141D  1  68                   PLA             ;RESTORE C
00141E  1               ;141F:20 77 14 1101
00141E  1  20 76 14             JSR WASIN4      ;->P123D
001421  1               ;1422:20 AB 15 1102
001421  1  20 AA 15             JSR SFTFB2      ;COND.BF2->B.F1
001424  1               ;1425:A9 01 1103
001424  1  A9 01                LDA #1          ;NEXT STATE
001426  1               ;1427:4C 4A 14 1104
001426  1  4C 49 14             JMP CONTPRO
001429  1               
001429  1               ;142A:48 1106
001429  1               ST7S:
001429  1  48                   PHA             ;SAVE SYMBOL
00142A  1               ;142B:AD 4E 12 1107
00142A  1  AD 4D 12             LDA P123D       ;LOAD C OF 2ND. &
00142D  1               ;142E:20 6D 14 1108
00142D  1  20 6C 14             JSR HVDSP1      ;->P123C
001430  1               ;1431:68 1109
001430  1  68                   PLA             ;RESTORE SYM
001431  1               ;1432:4C 7A 13 1110
001431  1  4C 79 13             JMP ST25S
001434  1               
001434  1               ;1435:48 1112
001434  1               ST8S:
001434  1  48                   PHA             ;SAVE SYM
001435  1               ;1436:20 46 15 1113
001435  1  20 45 15             JSR CHKCPLX     ;CHECK COMPLEX (CPLX->P123B&DSP)
001438  1               ;1439:68 1114
001438  1  68                   PLA             ;RESTORE SYM
001439  1               ;143A:4C 98 13 1115
001439  1  4C 97 13             JMP ST3S
00143C  1               ;143D:48 1117
00143C  1               ST8C:
00143C  1  48                   PHA             ;SAVE C
00143D  1               ;143E:20 46 15 1118
00143D  1  20 45 15             JSR CHKCPLX     ;IF CPLX,CPLX->P123B
001440  1               ;1441:68 1119
001440  1  68                   PLA
001441  1               ;1442:20 59 14 1120
001441  1  20 58 14             JSR WASIN6      ;C->P123A & DSP.
001444  1               ;1445:20 6D 15 1121
001444  1  20 6C 15             JSR SFTFB1      ;SHFT COND.BF2,1
001447  1               ;1448:A9 01 1122
001447  1  A9 01                LDA #1          ;NEXT STATE
001449  1               
001449  1               ;144A:8D 52 12 1124
001449  1               CONTPRO:
001449  1  8D 51 12             STA STATE       ;RECORD STATE
00144C  1               ;144D:60 1125
00144C  1  60                   RTS
00144D  1               
00144D  1               ;144E:48 1127
00144D  1               WASIN1:
00144D  1  48                   PHA             ;CURRENT CHR.PUSH
00144E  1               ;144F:8D 4A 12 1128
00144E  1  8D 49 12             STA P1239
001451  1               ;1452:20 61 14 1129
001451  1  20 60 14             JSR LOWBLK      ;LOW CLEAR&RESTORE CV
001454  1               ;1455:68 1130
001454  1  68                   PLA
001455  1               ;1456:4C F8 14 1131
001455  1  4C F7 14             JMP OUTGEN      ;UPPER HALF.
001458  1               
001458  1               ;1459:E6 24 1133
001458  1               WASIN6:
001458  1  E6 24                INC CH          ;CH=CH+1
00145A  1               ;145B:8D 4B 12 1134
00145A  1  8D 4A 12             STA P123A       ;C->P123A
00145D  1               ;145E:4C F8 14 1135
00145D  1  4C F7 14             JMP OUTGEN      ;DISP. IT!
001460  1               
001460  1               ;1461:A9 20 1137
001460  1               LOWBLK:
001460  1  A9 20                LDA #$20        ;BLANK
001462  1               ;1463:E6 25 1138
001462  1               WASIN3:
001462  1  E6 25                INC CV          ;LOWER POS.
001464  1               ;1465:8D 4C 12 1139
001464  1  8D 4B 12             STA P123B       ;CHR.SAVE
001467  1               ;1468:4C F8 14 1140
001467  1  4C F7 14             JMP OUTGEN      ;DISP. IT!
00146A  1               
00146A  1               ;146B:A9 20 1142
00146A  1               LOWBLK2:
00146A  1  A9 20                LDA #$20        ;BLANK
00146C  1               ;146D:E6 25 1143
00146C  1               HVDSP1:
00146C  1  E6 25                INC CV          ;LOWER POS.
00146E  1               ;146F:E6 24 1144
00146E  1  E6 24                INC CH
001470  1               ;1471:8D 4D 12 1145
001470  1  8D 4C 12             STA P123C       ;LOWER V.V
001473  1               ;1474:4C F8 14 1146
001473  1  4C F7 14             JMP OUTGEN      ;DISP.IT!
001476  1               
001476  1               ;1477:48 1148
001476  1               WASIN4:
001476  1  48                   PHA             ;CURRENT C->P123D
001477  1               ;1478:8D 4E 12 1149
001477  1  8D 4D 12             STA P123D
00147A  1               ;147B:A5 24 1150
00147A  1  A5 24                LDA CH
00147C  1               
00147C  1               ;147D:C9 24 1151
00147C  1  C9 24                CMP #$24
00147E  1               ;147F:10 08 1152
00147E  1  10 08                BPL NXT1
001480  1               ;1481:E6 24 1153
001480  1  E6 24                INC CH
001482  1               ;1483:E6 24 1154
001482  1  E6 24                INC CH
001484  1               ;1485:68 1155
001484  1  68                   PLA
001485  1               ;1486:4C F8 14 1156
001485  1  4C F7 14             JMP OUTGEN
001488  1               ;1489:E6 25 1157
001488  1               NXT1:
001488  1  E6 25                INC CV
00148A  1               ;148B:E6 25 1158
00148A  1  E6 25                INC CV
00148C  1               ;148D:A9 00 1159
00148C  1  A9 00                LDA #0
00148E  1               ;148F:85 24 1160
00148E  1  85 24                STA CH
001490  1               ;1491:68 1161
001490  1  68                   PLA
001491  1               ;1492:4C F8 14 1162
001491  1  4C F7 14             JMP OUTGEN      ;DISP. IT!
001494  1               
001494  1               ;1495:48 1164
001494  1               VVDSP2:
001494  1  48                   PHA
001495  1               ;1496:80 4F 12 1165
001495  1  8D 4E 12             STA P123E
001498  1               ;1499:A5 24 1166
001498  1  A5 24                LDA CH
00149A  1               ;149B:C9 24 1167
00149A  1  C9 24                CMP #$24
00149C  1               ;149D:10 0A 1168
00149C  1  10 0A                BPL NXT2
00149E  1               ;149F:E6 24 1169
00149E  1  E6 24                INC CH
0014A0  1               ;14A1:E6 24 1170
0014A0  1  E6 24                INC CH
0014A2  1               ;14A3:E6 24 1171
0014A2  1  E6 24                INC CH
0014A4  1               ;14A5:68 1172
0014A4  1  68                   PLA
0014A5  1               ;14A6:4C F8 14 1173
0014A5  1  4C F7 14             JMP OUTGEN
0014A8  1               ;14A9:E6 25 1174
0014A8  1               NXT2:
0014A8  1  E6 25                INC CV
0014AA  1               ;14AB:E6 25 1175
0014AA  1  E6 25                INC CV
0014AC  1               ;14AD:A9 01 1176
0014AC  1  A9 01                LDA #1
0014AE  1               ;14AF:85 24 1177
0014AE  1  85 24                STA CH
0014B0  1               ;14B1:68 1178
0014B0  1  68                   PLA
0014B1  1               ;14B2:4C FB 14 1179
0014B1  1  4C F7 14             JMP OUTGEN
0014B4  1               
0014B4  1               ;14B5:48 1181
0014B4  1               HVDSP:
0014B4  1  48                   PHA             ;SAVE LOW CODE OF H.V
0014B5  1               ;14B6:8D 50 12 1182
0014B5  1  8D 4F 12             STA P123F
0014B8  1               ;14B9:A5 24 1183
0014B8  1  A5 24                LDA CH
0014BA  1               ;14BB:C9 24 1184
0014BA  1  C9 24                CMP #$24
0014BC  1               ;14BD:10 0A 1185
0014BC  1  10 0A                BPL NXT3
0014BE  1               ;14BF:E6 24 1186
0014BE  1  E6 24                INC CH
0014C0  1               ;14C1:E6 24 1187
0014C0  1  E6 24                INC CH
0014C2  1               ;14C3:E6 25 1188
0014C2  1  E6 25                INC CV
0014C4  1               ;14C5:68 1189
0014C4  1  68                   PLA
0014C5  1               ;14C6:4C F8 14 1190
0014C5  1  4C F7 14             JMP OUTGEN
0014C8  1               
0014C8  1               ;14C9:E6 25 1192
0014C8  1               NXT3:
0014C8  1  E6 25                INC CV
0014CA  1               ;14CB:E6 25 1193
0014CA  1  E6 25                INC CV
0014CC  1               ;14CD:E6 25 1194
0014CC  1  E6 25                INC CV
0014CE  1               ;14CF:A9 00 1195
0014CE  1  A9 00                LDA #0
0014D0  1               ;14D1:85 24 1196
0014D0  1  85 24                STA CH
0014D2  1               ;14D3:68 1197
0014D2  1  68                   PLA
0014D3  1               ;14D4:4C F8 14 1198
0014D3  1  4C F7 14             JMP OUTGEN
0014D6  1               
0014D6  1               ;14D7:48 1200
0014D6  1               LVVDSP:
0014D6  1  48                   PHA
0014D7  1               ;14D8:8D 51 12 1201
0014D7  1  8D 50 12             STA P1240
0014DA  1               ;14DB:A5 24 1202
0014DA  1  A5 24                LDA CH
0014DC  1               
0014DC  1               ;14DD:C9 24 1203
0014DC  1  C9 24                CMP #$24
0014DE  1               ;14DF:10 0C 1204
0014DE  1  10 0C                BPL NXT4
0014E0  1               ;14E1:E6 24 1205
0014E0  1  E6 24                INC CH
0014E2  1               ;14E3:E6 24 1206
0014E2  1  E6 24                INC CH
0014E4  1               ;14E5:E6 24 1207
0014E4  1  E6 24                INC CH
0014E6  1               ;14E7:E6 25 1208
0014E6  1  E6 25                INC CV
0014E8  1               ;14E9:68 1209
0014E8  1  68                   PLA
0014E9  1               ;14EA:4C F8 14 1210
0014E9  1  4C F7 14             JMP OUTGEN
0014EC  1               
0014EC  1               ;14ED:E6 25 1212
0014EC  1               NXT4:
0014EC  1  E6 25                INC CV
0014EE  1               ;14EF:E6 25 1213
0014EE  1  E6 25                INC CV
0014F0  1               ;14F1:E6 25 1214
0014F0  1  E6 25                INC CV
0014F2  1               ;14F3:A9 01 1215
0014F2  1  A9 01                LDA #1
0014F4  1               ;14F5:85 24 1216
0014F4  1  85 24                STA CH
0014F6  1               ;14F7:68 1217
0014F6  1  68                   PLA
0014F7  1               ;14F8:20 C8 10 1218
0014F7  1               OUTGEN:
0014F7  1  20 C8 10             JSR NORDISP
0014FA  1               ;14FB:20 62 0E 1219
0014FA  1  20 62 0E             JSR TPLOAD
0014FD  1               ;14FE:60 1220 RTS51
0014FD  1  60                   RTS
0014FE  1               
0014FE  1               ;14FF:48 1222
0014FE  1               VVDSP:
0014FE  1  48                   PHA             ;V.V SAVE
0014FF  1               ;1500:20 4E 14 1223
0014FF  1  20 4D 14             JSR WASIN1      ;CLR LOW&DSP.UPPER
001502  1               ;1503:68 1224
001502  1  68                   PLA
001503  1               ;1504:29 0F 1225
001503  1  29 0F                AND #$0F
001505  1               ;1506:20 63 14 1226
001505  1  20 62 14             JSR WASIN3      ;MAKE LOWER
001508  1               ;1509:60 1227
001508  1  60                   RTS
001509  1               
001509  1               ;150A:48 1229
001509  1               DISPVV:
001509  1  48                   PHA             ;SAVE V.V
00150A  1               ;150B:20 59 14 1230
00150A  1  20 58 14             JSR WASIN6      ;LOE CLR & UP DSP.
00150D  1               ;150E:68 1231
00150D  1  68                   PLA
00150E  1               ;150F:29 0F 1232
00150E  1  29 0F                AND #$0F        ;LEAVE LOW
001510  1               ;1511:20 6D 14 1233
001510  1  20 6C 14             JSR HVDSP1
001513  1               ;1514:60 1234
001513  1  60                   RTS
001514  1               
001514  1               ;1515:48 1236
001514  1               DISPVV1:
001514  1  48                   PHA             ;SAVE V.V
001515  1               ;1516:20 77 14 1237
001515  1  20 76 14             JSR WASIN4      ;DISP UPPER
001518  1               ;1519:68 1238
001518  1  68                   PLA
001519  1               ;151A:29 OF 1239
001519  1  29 0F                AND #$0F         ;LEAVE LOW OF V.V
00151B  1               ;151C:20 B5 14 1240
00151B  1  20 B4 14             JSR HVDSP
00151E  1               ;151F:60 1241
00151E  1  60                   RTS
00151F  1               
00151F  1               ;1520:48 1243
00151F  1               DISPVV2:
00151F  1  48                   PHA             ;SAVE V.V
001520  1               ;1521:20 95 14 1244
001520  1  20 94 14             JSR VVDSP2      ;V.V DSP(V.V ->P123E)
001523  1               ;1524:68 1245
001523  1  68                   PLA
001524  1               ;1525:29 OF 1246
001524  1  29 0F                AND #$0F        ;V.V^OF
001526  1               ;1527:20 D7 14 1247
001526  1  20 D6 14             JSR LVVDSP      ;LOW DSP & LOW ->P1240
001529  1               ;152A:60 1248
001529  1  60                   RTS
00152A  1               
00152A  1               ;152B:A9 80 1250
00152A  1               MOVPOS:
00152A  1  A9 80                LDA #$80        ;TEMP MODE CHANGE
00152C  1               ;152D:8D 41 OD 1251
00152C  1  8D 41 0D             STA POSFL
00152F  1               ;1530:A9 00 1252
00152F  1  A9 00                LDA #0
001531  1               ;1532:80 42 OD 1253
001531  1  8D 42 0D             STA ADRFL
001534  1               ;1535:AD 4C 12 1254
001534  1  AD 4B 12             LDA P123B
001537  1               
001537  1               ;1538:29 0F 1255
001537  1  29 0F                AND #$0F
001539  1               ;153A:20 C8 10 1256
001539  1  20 C8 10             JSR NORDISP
00153C  1               ;153D:20 62 0E 1257
00153C  1  20 62 0E             JSR TPLOAD
00153F  1               ;1540:A9 00 1258
00153F  1  A9 00                LDA #0
001541  1               ;1542:80 41 OD 1259
001541  1  8D 41 0D             STA POSFL
001544  1               ;1545:60 1260
001544  1  60                   RTS
001545  1               
001545  1               ;1546:AD 4C 12 1262
001545  1               CHKCPLX:
001545  1  AD 4B 12             LDA P123B       ;1ST CON.
001548  1               ;1549:85 EE 1263
001548  1  85 EE                STA PATLOC
00154A  1               ;154B:AD 4B 12 1264
00154A  1  AD 4A 12             LDA P123A       ;2ND CON.
00154D  1               ;154E:C9 6A 1265
00154D  1  C9 6A                CMP #$6A        ;CHECK 2ND IF W
00154F  1               ;1550:00 02 1266
00154F  1  D0 02                BNE NOCOS
001551  1               ;1552:C6 EE 1267
001551  1  C6 EE                DEC PATLOC
001553  1               ;1554:18 1268
001553  1               NOCOS:
001553  1  18                   CLC
001554  1               ;1555:65 EE 1269
001554  1  65 EE                ADC PATLOC
001556  1               ;1557:38 1270
001556  1  38                   SEC
001557  1               ;1558:E9 CO 1271
001557  1  E9 C0                SBC #$C0
001559  1               ;155A:AA 1272
001559  1  AA                   TAX
00155A  1               ;155B:C9 14 1273
00155A  1  C9 14                CMP #$14        ;FILTERING!
00155C  1               ;155D:BO 07 1274
00155C  1  B0 07                BCS NOCOMB
00155E  1               ;155F:BD 1B 13 1275
00155E  1  BD 1A 13             LDA CPLXCN,X
001561  1               ;1562:09 00 1276
001561  1  C9 00                CMP #0          ;IF 0,CANNOT BE COMBINED!
001563  1               ;1564:DO 04 1277
001563  1  D0 04                BNE GOCPLX
001565  1               ;1566:20 DD FB 1278
001565  1               NOCOMB:
001565  1  20 DD FB             JSR BEEP
001568  1               ;1569:60 1279
001568  1  60                   RTS
001569  1               
001569  1               ;156A:4C 63 14 1281
001569  1               GOCPLX:
001569  1  4C 62 14             JMP WASIN3
00156C  1               
00156C  1               ;156D:A5 24 1283
00156C  1               SFTFB1:
00156C  1  A5 24                LDA CH
00156E  1               ;156F:C9 25 1284
00156E  1  C9 25                CMP #$25
001570  1               ;1571:10 05 1285
001570  1  10 05                BPL NO9
001572  1               ;1573:E6 24 1286
001572  1  E6 24                INC CH
001574  1               ;1575:4C 7B 15 1287
001574  1  4C 7A 15             JMP SFTBFA
001577  1               ;1578:20 D6 0E 1288
001577  1               NO9:
001577  1  20 D6 0E             JSR ASCROL
00157A  1               
00157A  1               ;157B: 1290 ************************************
00157A  1               ;157B: 1291 *
00157A  1               ;157B: 1292 * CONDITION BUFFER ADJUST:
00157A  1               ;157B: 1293 * (9)<-(A)<-(D)<-(E)
00157A  1               ;157B: 1294 * (B)<-(C)<-(F)<-(0)
00157A  1               ;157B: 1295 *
00157A  1               ;1578: 1296 ********************************
00157A  1               
00157A  1               ;157B:AD 4B 12 1298
00157A  1               SFTBFA:
00157A  1  AD 4A 12             LDA P123A
00157D  1               ;157E:8D 4A 12 1299
00157D  1  8D 49 12             STA P1239
001580  1               ;1581:AD 4D 12 1300
001580  1  AD 4C 12             LDA P123C
001583  1               ;1584:80 4C 12 1301
001583  1  8D 4B 12             STA P123B
001586  1               ;1587:AD 4E 12 1302
001586  1  AD 4D 12             LDA P123D
001589  1               ;158A:80 4B 12 1303
001589  1  8D 4A 12             STA P123A
00158C  1               ;158D:AD 50 12 1304
00158C  1  AD 4F 12             LDA P123F
00158F  1               ;1590:8D 4D 12 1305
00158F  1  8D 4C 12             STA P123C
001592  1               ;1593:AD 4F 12 1306
001592  1  AD 4E 12             LDA P123E
001595  1               
001595  1               ;1596:80 4E 12 1307
001595  1  8D 4D 12             STA P123D
001598  1               ;1599:AD 51 12 1308
001598  1  AD 50 12             LDA P1240
00159B  1               ;159C:8D 50 12 1309
00159B  1  8D 4F 12             STA P123F
00159E  1               ;159F:A9 00 1310
00159E  1  A9 00                LDA #0
0015A0  1               ;15A1:8D 50 12 1311
0015A0  1  8D 4F 12             STA P123F
0015A3  1               ;15A4:80 51 12 1312
0015A3  1  8D 50 12             STA P1240
0015A6  1               ;15A7:20 22 FC 1313
0015A6  1  20 22 FC             JSR VTAB
0015A9  1               ;15AA:60 1314
0015A9  1  60                   RTS
0015AA  1               
0015AA  1               ;15AB:A5 24 1316
0015AA  1               SFTFB2:
0015AA  1  A5 24                LDA CH
0015AC  1               ;15AD:C9 24 1317
0015AC  1  C9 24                CMP #$24
0015AE  1               ;15AF : 10 07 1318
0015AE  1  10 07                BPL NO10
0015B0  1               ;15B1:E6 24 1319
0015B0  1  E6 24                INC CH
0015B2  1               ;15B3:E6 24 1320
0015B2  1  E6 24                INC CH
0015B4  1               ;15B5:4C BB 15 1321
0015B4  1  4C BA 15             JMP SFTBFB
0015B7  1               ;15B8:20 D6 0E 1322
0015B7  1               NO10:
0015B7  1  20 D6 0E             JSR ASCROL
0015BA  1               
0015BA  1               ;15BB: 1324 ***********************************
0015BA  1               ;15BB: 1325 *
0015BA  1               ;15BB: 1326 * CONDITION BUFFER ADJUST1:
0015BA  1               ;15BB: 1327 * (9)<-(D)<-0, (A)<-(E)<-0
0015BA  1               ;15BB: 1328 * (B)<-(F)<-0,(C)<-(0)<-0
0015BA  1               ;15BB: 1329 *
0015BA  1               ;15BB: 1330 *********************************
0015BA  1               
0015BA  1               ;15BB:AD 4E 12 1332
0015BA  1               SFTBFB:
0015BA  1  AD 4D 12             LDA P123D
0015BD  1               ;15BE:8D 4A 12 1333
0015BD  1  8D 49 12             STA P1239
0015C0  1               ;15C1:AD 50 12 1334
0015C0  1  AD 4F 12             LDA P123F
0015C3  1               ;15C4:8D 4C 12 1335
0015C3  1  8D 4B 12             STA P123B
0015C6  1               ;15C7:AD 4F 12 1336
0015C6  1  AD 4E 12             LDA P123E
0015C9  1               ;15CA:8D 4B 12 1337
0015C9  1  8D 4A 12             STA P123A
0015CC  1               ;15CD:AD 51 12 1338
0015CC  1  AD 50 12             LDA P1240
0015CF  1               ;1500:80 4D 12 1339
0015CF  1  8D 4C 12             STA P123C
0015D2  1               ;15D3:A9 00 1340
0015D2  1  A9 00                LDA #0
0015D4  1               ;1505:80 4E 12 1341
0015D4  1  8D 4D 12             STA P123D
0015D7  1               ;15D8:8D 4F 12 1342
0015D7  1  8D 4E 12             STA P123E
0015DA  1               ;15DB:8D 50 12 1343
0015DA  1  8D 4F 12             STA P123F
0015DD  1               ;15DE:8D 51 12 1344
0015DD  1  8D 50 12             STA P1240
0015E0  1               ;15E1:20 22 FC 1345
0015E0  1  20 22 FC             JSR VTAB
0015E3  1               ;15E4:60 1346
0015E3  1  60                   RTS
0015E4  1               
0015E4  1               ;15E5:20 AB 15 1348
0015E4  1               ESFTFB3:
0015E4  1  20 AA 15             JSR SFTFB2
0015E7  1               ;15E8:20 6D 15 1349
0015E7  1               ESFTFB1:
0015E7  1  20 6C 15             JSR SFTFB1
0015EA  1               ;15EB:4C F4 15 1350
0015EA  1  4C F3 15             JMP ECONDCLR
0015ED  1               ;15EE:20 AB 15 1352
0015ED  1  20 AA 15             JSR SFTFB2
0015F0  1               ;15F1:20 AB 15 1353
0015F0  1               ECONDCL1:
0015F0  1  20 AA 15             JSR SFTFB2
0015F3  1               
0015F3  1               ;15F4: 1355 ********************************
0015F3  1               ;15F4: 1356 *
0015F3  1               ;15F4: 1357 * CLEAR ALL OF CONDITION BUFFER
0015F3  1               ;15F4: 1358 *
0015F3  1               ;15F4: 1359 ;*******************************
0015F3  1               
0015F3  1               ;15F4:20 DD FB 1361
0015F3  1               ECONDCLR:
0015F3  1  20 DD FB             JSR BEEP
0015F6  1               ;15F7:A9 00 1362
0015F6  1  A9 00                LDA #0
0015F8  1               ;15F9:8D 4A 12 1363
0015F8  1  8D 49 12             STA P1239
0015FB  1               ;15FC:8D 4B 12 1364
0015FB  1  8D 4A 12             STA P123A
0015FE  1               ;15FF:8D 4C 12 1365
0015FE  1  8D 4B 12             STA P123B
001601  1               ;1602:8D 4D 12 1366
001601  1  8D 4C 12             STA P123C
001604  1               ;1605:8D 4E 12 1367
001604  1  8D 4D 12             STA P123D
001607  1               ;1608:8D 4F 12 1368
001607  1  8D 4E 12             STA P123E
00160A  1               ;160B:8D 50 12 1369
00160A  1  8D 4F 12             STA P123F
00160D  1               ;160E:8D 51 12 1370
00160D  1  8D 50 12             STA P1240
001610  1               ;1611:4C 4A 14 1371
001610  1  4C 49 14             JMP CONTPRO
001613  1               ;1614:2C C3 08 1372
001613  1               KPEENG:
001613  1  2C C3 08             BIT SNDFLG
001616  1               ;1617:10 14 1373
001616  1  10 14                BPL NSOUND
001618  1               ;1619:48 1374
001618  1  48                   PHA
001619  1               ;161A:A9 10 1375
001619  1  A9 10                LDA #$10
00161B  1               ;161C:20 A8 FC 1376
00161B  1  20 A8 FC             JSR MWAIT
00161E  1               ;161F:A0 CO 1377
00161E  1  A0 C0                LDY #$C0
001620  1               ;1621:A9 08 1378
001620  1               KPEE1:
001620  1  A9 08                LDA #8
001622  1               ;1623:20 AB FC 1379
001622  1  20 A8 FC             JSR MWAIT
001625  1               
001625  1               ;1626:AD 30 CO 1380
001625  1  AD 30 C0             LDA SPEAKER
001628  1               ;1629:88 1381
001628  1  88                   DEY
001629  1               ;162A: DO F5 1382
001629  1  D0 F5                BNE KPEE1
00162B  1               ;162C:68 1383
00162B  1  68                   PLA
00162C  1               ;162D:60 1384
00162C  1               NSOUND:
00162C  1  60                   RTS
00162D  1               
00162D  1               ;162E:A9 80 1386
00162D  1               CTRLT:
00162D  1  A9 80                LDA #$80        ;TOGGLE SOUND
00162F  1               ;1630:4D C3 08 1387
00162F  1  4D C3 08             EOR SNDFLG
001632  1               ;1633:8D C3 08 1388
001632  1  8D C3 08             STA SNDFLG
001635  1               ;1636:60 1389
001635  1  60                   RTS
001636  1               
001636  1               ;*** SUCCESSFUL ASSEMBLY: NO ERRORS
001636  1               
